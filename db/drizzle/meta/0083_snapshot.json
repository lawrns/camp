{
  "id": "43fd8f8a-b512-4941-b12d-a8b58a1d2c6c",
  "prevId": "8d47d6f4-a524-4875-91ac-d9b28a61ca09",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.agent_messages": {
      "name": "agent_messages",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "agent_messages_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "agent_thread_id": {
          "name": "agent_thread_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "slack_channel": {
          "name": "slack_channel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "message_ts": {
          "name": "message_ts",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "agent_messages_agent_thread_id_idx": {
          "name": "agent_messages_agent_thread_id_idx",
          "columns": [
            {
              "expression": "agent_thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_messages_slack_unique_idx": {
          "name": "agent_messages_slack_unique_idx",
          "columns": [
            {
              "expression": "slack_channel",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "message_ts",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_notification_preferences": {
      "name": "agent_notification_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"handoff_request\":{\"push\":true,\"websocket\":true,\"email\":false,\"sms\":false,\"sound\":true},\"assignment\":{\"push\":true,\"websocket\":true,\"email\":true,\"sms\":false,\"sound\":true},\"escalation\":{\"push\":true,\"websocket\":true,\"email\":true,\"sms\":true,\"sound\":true},\"queue_alert\":{\"push\":false,\"websocket\":true,\"email\":false,\"sms\":false,\"sound\":false}}'::jsonb"
        },
        "push_tokens": {
          "name": "push_tokens",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "email_address": {
          "name": "email_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "working_hours": {
          "name": "working_hours",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "do_not_disturb": {
          "name": "do_not_disturb",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"enabled\":false}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agent_notification_preferences_agent_id_unique": {
          "name": "agent_notification_preferences_agent_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "agent_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_notifications": {
      "name": "agent_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "handoff_id": {
          "name": "handoff_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "channels": {
          "name": "channels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"push\":{\"enabled\":true},\"websocket\":{\"enabled\":true},\"email\":{\"enabled\":false},\"sms\":{\"enabled\":false}}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "delivery_attempts": {
          "name": "delivery_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_delivery_attempt": {
          "name": "last_delivery_attempt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "agent_notifications_handoff_id_campfire_handoffs_id_fk": {
          "name": "agent_notifications_handoff_id_campfire_handoffs_id_fk",
          "tableFrom": "agent_notifications",
          "tableTo": "campfire_handoffs",
          "columnsFrom": [
            "handoff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_threads": {
      "name": "agent_threads",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "agent_threads_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "slack_channel": {
          "name": "slack_channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thread_ts": {
          "name": "thread_ts",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "agent_threads_mailbox_id_idx": {
          "name": "agent_threads_mailbox_id_idx",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_threads_slack_channel_thread_ts_idx": {
          "name": "agent_threads_slack_channel_thread_ts_idx",
          "columns": [
            {
              "expression": "slack_channel",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "thread_ts",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mailboxes_aiusageevent": {
      "name": "mailboxes_aiusageevent",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "mailboxes_aiusageevent_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "model_name": {
          "name": "model_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "query_type": {
          "name": "query_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "input_tokens_count": {
          "name": "input_tokens_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "output_tokens_count": {
          "name": "output_tokens_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "cached_tokens_count": {
          "name": "cached_tokens_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cost": {
          "name": "cost",
          "type": "numeric(12, 7)",
          "primaryKey": false,
          "notNull": true
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "mailboxes_aiusageevent_created_at_74823d57": {
          "name": "mailboxes_aiusageevent_created_at_74823d57",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mailboxes_aiusageevent_mailbox_id_a4908f79": {
          "name": "mailboxes_aiusageevent_mailbox_id_a4908f79",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mailboxes_aiusageevent_model_name_84b8ca7a": {
          "name": "mailboxes_aiusageevent_model_name_84b8ca7a",
          "columns": [
            {
              "expression": "model_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mailboxes_aiusageevent_model_name_84b8ca7a_like": {
          "name": "mailboxes_aiusageevent_model_name_84b8ca7a_like",
          "columns": [
            {
              "expression": "model_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mailboxes_aiusageevent_query_type_b4a486cb": {
          "name": "mailboxes_aiusageevent_query_type_b4a486cb",
          "columns": [
            {
              "expression": "query_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mailboxes_aiusageevent_query_type_b4a486cb_like": {
          "name": "mailboxes_aiusageevent_query_type_b4a486cb_like",
          "columns": [
            {
              "expression": "query_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_feedback": {
      "name": "ai_feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "model_version_id": {
          "name": "model_version_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_type": {
          "name": "feedback_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "text_feedback": {
          "name": "text_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correction": {
          "name": "correction",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "is_anonymous": {
          "name": "is_anonymous",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::json"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_feedback_conversation_id_conversations_conversation_id_fk": {
          "name": "ai_feedback_conversation_id_conversations_conversation_id_fk",
          "tableFrom": "ai_feedback",
          "tableTo": "conversations_conversation",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ai_feedback_model_version_id_model_versions_id_fk": {
          "name": "ai_feedback_model_version_id_model_versions_id_fk",
          "tableFrom": "ai_feedback",
          "tableTo": "model_versions",
          "columnsFrom": [
            "model_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_feedback_actions": {
      "name": "ai_feedback_actions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "feedback_id": {
          "name": "feedback_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "action_type": {
          "name": "action_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "action_by": {
          "name": "action_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "action_date": {
          "name": "action_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolution": {
          "name": "resolution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'open'"
        },
        "priority": {
          "name": "priority",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_resolution_time": {
          "name": "estimated_resolution_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_resolution_time": {
          "name": "actual_resolution_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "follow_up_required": {
          "name": "follow_up_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "follow_up_date": {
          "name": "follow_up_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::json"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_feedback_actions_feedback_id_ai_feedback_id_fk": {
          "name": "ai_feedback_actions_feedback_id_ai_feedback_id_fk",
          "tableFrom": "ai_feedback_actions",
          "tableTo": "ai_feedback",
          "columnsFrom": [
            "feedback_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_feedback_analysis": {
      "name": "ai_feedback_analysis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "feedback_id": {
          "name": "feedback_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sentiment": {
          "name": "sentiment",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "intent": {
          "name": "intent",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "urgency": {
          "name": "urgency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "themes": {
          "name": "themes",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "entities": {
          "name": "entities",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "actionable": {
          "name": "actionable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "suggested_actions": {
          "name": "suggested_actions",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "confidence": {
          "name": "confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "processing_time": {
          "name": "processing_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "analysis_version": {
          "name": "analysis_version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::json"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_feedback_analysis_feedback_id_ai_feedback_id_fk": {
          "name": "ai_feedback_analysis_feedback_id_ai_feedback_id_fk",
          "tableFrom": "ai_feedback_analysis",
          "tableTo": "ai_feedback",
          "columnsFrom": [
            "feedback_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_feedback_categories": {
      "name": "ai_feedback_categories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_id": {
          "name": "parent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false,
          "default": "'#3B82F6'"
        },
        "icon": {
          "name": "icon",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_feedback_categories_parent_id_ai_feedback_categories_id_fk": {
          "name": "ai_feedback_categories_parent_id_ai_feedback_categories_id_fk",
          "tableFrom": "ai_feedback_categories",
          "tableTo": "ai_feedback_categories",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_feedback_summaries": {
      "name": "ai_feedback_summaries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "period": {
          "name": "period",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "model_version_id": {
          "name": "model_version_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_feedback": {
          "name": "total_feedback",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "positive_feedback": {
          "name": "positive_feedback",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "negative_feedback": {
          "name": "negative_feedback",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "average_rating": {
          "name": "average_rating",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "top_issues": {
          "name": "top_issues",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "top_improvements": {
          "name": "top_improvements",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "sentiment_distribution": {
          "name": "sentiment_distribution",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"positive\":0,\"neutral\":0,\"negative\":0}'::json"
        },
        "category_breakdown": {
          "name": "category_breakdown",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::json"
        },
        "actionable_items": {
          "name": "actionable_items",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "resolved_items": {
          "name": "resolved_items",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_resolution_time": {
          "name": "avg_resolution_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::json"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_feedback_summaries_model_version_id_model_versions_id_fk": {
          "name": "ai_feedback_summaries_model_version_id_model_versions_id_fk",
          "tableFrom": "ai_feedback_summaries",
          "tableTo": "model_versions",
          "columnsFrom": [
            "model_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_feedback_templates": {
      "name": "ai_feedback_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category_id": {
          "name": "category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "template": {
          "name": "template",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_feedback_templates_category_id_ai_feedback_categories_id_fk": {
          "name": "ai_feedback_templates_category_id_ai_feedback_categories_id_fk",
          "tableFrom": "ai_feedback_templates",
          "tableTo": "ai_feedback_categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_training_data": {
      "name": "ai_training_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "data_type": {
          "name": "data_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "labels": {
          "name": "labels",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "quality_score": {
          "name": "quality_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_validated": {
          "name": "is_validated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "validated_by": {
          "name": "validated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "validated_at": {
          "name": "validated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_training_data_mailbox_id_mailboxes_mailbox_id_fk": {
          "name": "ai_training_data_mailbox_id_mailboxes_mailbox_id_fk",
          "tableFrom": "ai_training_data",
          "tableTo": "mailboxes_mailbox",
          "columnsFrom": [
            "mailbox_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_training_data_batch_items": {
      "name": "ai_training_data_batch_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "batch_id": {
          "name": "batch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "training_data_id": {
          "name": "training_data_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_training_data_batch_items_batch_id_ai_training_data_batches_id_fk": {
          "name": "ai_training_data_batch_items_batch_id_ai_training_data_batches_id_fk",
          "tableFrom": "ai_training_data_batch_items",
          "tableTo": "ai_training_data_batches",
          "columnsFrom": [
            "batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ai_training_data_batch_items_training_data_id_ai_training_data_id_fk": {
          "name": "ai_training_data_batch_items_training_data_id_ai_training_data_id_fk",
          "tableFrom": "ai_training_data_batch_items",
          "tableTo": "ai_training_data",
          "columnsFrom": [
            "training_data_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_training_data_batches": {
      "name": "ai_training_data_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_records": {
          "name": "total_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "validated_records": {
          "name": "validated_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_training_data_batches_mailbox_id_mailboxes_mailbox_id_fk": {
          "name": "ai_training_data_batches_mailbox_id_mailboxes_mailbox_id_fk",
          "tableFrom": "ai_training_data_batches",
          "tableTo": "mailboxes_mailbox",
          "columnsFrom": [
            "mailbox_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.automation_execution_logs": {
      "name": "automation_execution_logs",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "trigger_data": {
          "name": "trigger_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "action_result": {
          "name": "action_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "automation_execution_logs_workflow_id_automation_workflows_id_fk": {
          "name": "automation_execution_logs_workflow_id_automation_workflows_id_fk",
          "tableFrom": "automation_execution_logs",
          "tableTo": "automation_workflows",
          "columnsFrom": [
            "workflow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.automation_workflows": {
      "name": "automation_workflows",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_config": {
          "name": "trigger_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "action_type": {
          "name": "action_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_config": {
          "name": "action_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.integrations": {
      "name": "integrations",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credentials": {
          "name": "credentials",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.campfire_channels": {
      "name": "campfire_channels",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.campfire_handoff_logs": {
      "name": "campfire_handoff_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "handoff_id": {
          "name": "handoff_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "campfire_handoff_logs_handoff_id_campfire_handoffs_id_fk": {
          "name": "campfire_handoff_logs_handoff_id_campfire_handoffs_id_fk",
          "tableFrom": "campfire_handoff_logs",
          "tableTo": "campfire_handoffs",
          "columnsFrom": [
            "handoff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.campfire_handoffs": {
      "name": "campfire_handoffs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "channel_id": {
          "name": "channel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "persona_id": {
          "name": "persona_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "draft": {
          "name": "draft",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "transfer_type": {
          "name": "transfer_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_agent_id": {
          "name": "target_agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_agent_id": {
          "name": "assigned_agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queue_position": {
          "name": "queue_position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_wait_time_minutes": {
          "name": "estimated_wait_time_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_state": {
          "name": "conversation_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "customer_sentiment": {
          "name": "customer_sentiment",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'neutral'"
        },
        "topic_complexity": {
          "name": "topic_complexity",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "urgency_score": {
          "name": "urgency_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0.5
        },
        "escalation_triggers": {
          "name": "escalation_triggers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "automated_triggers": {
          "name": "automated_triggers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "message_queue": {
          "name": "message_queue",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "delivery_guarantees": {
          "name": "delivery_guarantees",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"endToEndConfirmation\":true,\"retryEnabled\":true,\"maxRetries\":3,\"timeoutMs\":30000,\"fallbackEnabled\":true}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "checkpoints": {
          "name": "checkpoints",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "rollback_available": {
          "name": "rollback_available",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_checkpoint_id": {
          "name": "last_checkpoint_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metrics": {
          "name": "metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "feedback": {
          "name": "feedback",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "campfire_handoffs_channel_id_campfire_channels_id_fk": {
          "name": "campfire_handoffs_channel_id_campfire_channels_id_fk",
          "tableFrom": "campfire_handoffs",
          "tableTo": "campfire_channels",
          "columnsFrom": [
            "channel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "campfire_handoffs_persona_id_rag_profiles_id_fk": {
          "name": "campfire_handoffs_persona_id_rag_profiles_id_fk",
          "tableFrom": "campfire_handoffs",
          "tableTo": "rag_profiles",
          "columnsFrom": [
            "persona_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.campfire_messages": {
      "name": "campfire_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "channel_id": {
          "name": "channel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sender": {
          "name": "sender",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.compliance_logs": {
      "name": "compliance_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "regulation_references": {
          "name": "regulation_references",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "retention_period": {
          "name": "retention_period",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1825
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversation_events": {
      "name": "conversation_events",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "conversation_events_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'update'"
        },
        "changes": {
          "name": "changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "by_clerk_user_id": {
          "name": "by_clerk_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "conversation_events_conversation_id_idx": {
          "name": "conversation_events_conversation_id_idx",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversation_events_by_clerk_user_id_idx": {
          "name": "conversation_events_by_clerk_user_id_idx",
          "columns": [
            {
              "expression": "by_clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversation_events_type_created_at_idx": {
          "name": "conversation_events_type_created_at_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "messages_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "email_to": {
          "name": "email_to",
          "type": "varchar(65535)",
          "primaryKey": false,
          "notNull": false
        },
        "email_from": {
          "name": "email_from",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_cc": {
          "name": "email_cc",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "email_bcc": {
          "name": "email_bcc",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "bytea",
          "primaryKey": false,
          "notNull": false
        },
        "cleaned_up_text": {
          "name": "cleaned_up_text",
          "type": "bytea",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "response_to_id": {
          "name": "response_to_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "message_id": {
          "name": "message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "references": {
          "name": "references",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gmail_message_id": {
          "name": "gmail_message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gmail_thread_id": {
          "name": "gmail_thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_pinned": {
          "name": "is_pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "slack_channel": {
          "name": "slack_channel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slack_message_ts": {
          "name": "slack_message_ts",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_perfect": {
          "name": "is_perfect",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "docs_context": {
          "name": "docs_context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "past_replies_context": {
          "name": "past_replies_context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_flagged_as_bad": {
          "name": "is_flagged_as_bad",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "prompt_info": {
          "name": "prompt_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "varchar(65535)",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "search_index": {
          "name": "search_index",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reaction_type": {
          "name": "reaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reaction_feedback": {
          "name": "reaction_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reaction_created_at": {
          "name": "reaction_created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_status": {
          "name": "delivery_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'sending'"
        }
      },
      "indexes": {
        "conversatio_created_c4e0d1_idx": {
          "name": "conversatio_created_c4e0d1_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_email_conversation_id_391ad973": {
          "name": "conversations_email_conversation_id_391ad973",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_email_gmail_message_id_3f6ee5ab": {
          "name": "conversations_email_gmail_message_id_3f6ee5ab",
          "columns": [
            {
              "expression": "gmail_message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_email_gmail_thread_id_68f031bf": {
          "name": "conversations_email_gmail_thread_id_68f031bf",
          "columns": [
            {
              "expression": "gmail_thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_email_is_pinned_ab83d24f": {
          "name": "conversations_email_is_pinned_ab83d24f",
          "columns": [
            {
              "expression": "is_pinned",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_email_message_id_a19e9ac9": {
          "name": "conversations_email_message_id_a19e9ac9",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_email_response_to_id_af0048dc": {
          "name": "conversations_email_response_to_id_af0048dc",
          "columns": [
            {
              "expression": "response_to_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_email_clerk_user_id": {
          "name": "conversations_email_clerk_user_id",
          "columns": [
            {
              "expression": "clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "search_index_idx": {
          "name": "search_index_idx",
          "columns": [
            {
              "expression": "string_to_array(\"search_index\", ' ') array_ops",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "messages_reason_idx": {
          "name": "messages_reason_idx",
          "columns": [
            {
              "expression": "reason",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": true,
          "method": "btree",
          "with": {}
        },
        "messages_slack_message_ts_idx": {
          "name": "messages_slack_message_ts_idx",
          "columns": [
            {
              "expression": "slack_message_ts",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": true,
          "method": "btree",
          "with": {}
        },
        "messages_reaction_count_idx": {
          "name": "messages_reaction_count_idx",
          "columns": [
            {
              "expression": "reaction_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "reaction_created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"messages\".\"deleted_at\" is null",
          "concurrently": true,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations_conversation": {
      "name": "conversations_conversation",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "conversations_conversation_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "email_from": {
          "name": "email_from",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "encrypted_subject": {
          "name": "encrypted_subject",
          "type": "bytea",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "email_from_name": {
          "name": "email_from_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "last_user_email_created_at": {
          "name": "last_user_email_created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_provider": {
          "name": "conversation_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to_id": {
          "name": "assigned_to_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to_clerk_id": {
          "name": "assigned_to_clerk_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "embedding_text": {
          "name": "embedding_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_issue_number": {
          "name": "github_issue_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "github_issue_url": {
          "name": "github_issue_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_repo_owner": {
          "name": "github_repo_owner",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_repo_name": {
          "name": "github_repo_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_prompt": {
          "name": "is_prompt",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_visitor": {
          "name": "is_visitor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "assigned_to_ai": {
          "name": "assigned_to_ai",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "rag_enabled": {
          "name": "rag_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "rag_profile_id": {
          "name": "rag_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "merged_into_id": {
          "name": "merged_into_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "suggested_actions": {
          "name": "suggested_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "conversations_conversation_assigned_to_id_327a1b36": {
          "name": "conversations_conversation_assigned_to_id_327a1b36",
          "columns": [
            {
              "expression": "assigned_to_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_conversation_assigned_to_clerk_id": {
          "name": "conversations_conversation_assigned_to_clerk_id",
          "columns": [
            {
              "expression": "assigned_to_clerk_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_conversation_closed_at_16474e94": {
          "name": "conversations_conversation_closed_at_16474e94",
          "columns": [
            {
              "expression": "closed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_conversation_created_at_1ec48787": {
          "name": "conversations_conversation_created_at_1ec48787",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_conversation_email_from_aab3d292": {
          "name": "conversations_conversation_email_from_aab3d292",
          "columns": [
            {
              "expression": "email_from",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_conversation_email_from_aab3d292_like": {
          "name": "conversations_conversation_email_from_aab3d292_like",
          "columns": [
            {
              "expression": "email_from",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_conversation_last_user_email_created_at_fc6b89db": {
          "name": "conversations_conversation_last_user_email_created_at_fc6b89db",
          "columns": [
            {
              "expression": "last_user_email_created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_conversation_mailbox_id_7fb25662": {
          "name": "conversations_conversation_mailbox_id_7fb25662",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_conversation_slug_9924e9b1_like": {
          "name": "conversations_conversation_slug_9924e9b1_like",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "embedding_vector_index": {
          "name": "embedding_vector_index",
          "columns": [
            {
              "expression": "embedding",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hnsw",
          "with": {}
        },
        "conversations_mailbox_assigned_to_status_id_idx": {
          "name": "conversations_mailbox_assigned_to_status_id_idx",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "assigned_to_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_mailbox_status_created_at_idx": {
          "name": "conversations_mailbox_status_created_at_idx",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conversations_conversation_rag_profile_id_rag_profiles_id_fk": {
          "name": "conversations_conversation_rag_profile_id_rag_profiles_id_fk",
          "tableFrom": "conversations_conversation",
          "tableTo": "rag_profiles",
          "columnsFrom": [
            "rag_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "conversations_conversation_slug_key": {
          "name": "conversations_conversation_slug_key",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_threads": {
      "name": "email_threads",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "email_threads_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "message_id": {
          "name": "message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "from": {
          "name": "from",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to": {
          "name": "to",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cc": {
          "name": "cc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bcc": {
          "name": "bcc",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reply_to": {
          "name": "reply_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "text_content": {
          "name": "text_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "html_content": {
          "name": "html_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "headers": {
          "name": "headers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_processed": {
          "name": "is_processed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "processing_error": {
          "name": "processing_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "email_threads_message_id_idx": {
          "name": "email_threads_message_id_idx",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_threads_thread_id_idx": {
          "name": "email_threads_thread_id_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_threads_mailbox_id_idx": {
          "name": "email_threads_mailbox_id_idx",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_threads_conversation_id_idx": {
          "name": "email_threads_conversation_id_idx",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_threads_received_at_idx": {
          "name": "email_threads_received_at_idx",
          "columns": [
            {
              "expression": "received_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "email_threads_is_processed_idx": {
          "name": "email_threads_is_processed_idx",
          "columns": [
            {
              "expression": "is_processed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_threads_mailbox_id_mailboxes_mailbox_id_fk": {
          "name": "email_threads_mailbox_id_mailboxes_mailbox_id_fk",
          "tableFrom": "email_threads",
          "tableTo": "mailboxes_mailbox",
          "columnsFrom": [
            "mailbox_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "email_threads_conversation_id_conversations_conversation_id_fk": {
          "name": "email_threads_conversation_id_conversations_conversation_id_fk",
          "tableFrom": "email_threads",
          "tableTo": "conversations_conversation",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "email_threads_message_id_unique": {
          "name": "email_threads_message_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "message_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.emoji_reactions": {
      "name": "emoji_reactions",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "emoji_reactions_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "message_id": {
          "name": "message_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "emoji": {
          "name": "emoji",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_emoji_reactions_message_id": {
          "name": "idx_emoji_reactions_message_id",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_emoji_reactions_user_id": {
          "name": "idx_emoji_reactions_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_emoji_reactions_emoji": {
          "name": "idx_emoji_reactions_emoji",
          "columns": [
            {
              "expression": "emoji",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "emoji_reactions_message_user_emoji_unique": {
          "name": "emoji_reactions_message_user_emoji_unique",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "emoji",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "emoji_reactions_message_id_messages_id_fk": {
          "name": "emoji_reactions_message_id_messages_id_fk",
          "tableFrom": "emoji_reactions",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.escalation_rule_executions": {
      "name": "escalation_rule_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "rule_id": {
          "name": "rule_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "handoff_id": {
          "name": "handoff_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "condition_results": {
          "name": "condition_results",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "final_score": {
          "name": "final_score",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "threshold_met": {
          "name": "threshold_met",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "action_taken": {
          "name": "action_taken",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "escalation_rule_executions_rule_id_escalation_rules_id_fk": {
          "name": "escalation_rule_executions_rule_id_escalation_rules_id_fk",
          "tableFrom": "escalation_rule_executions",
          "tableTo": "escalation_rules",
          "columnsFrom": [
            "rule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.escalation_rules": {
      "name": "escalation_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "score_weight": {
          "name": "score_weight",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "cooldown_minutes": {
          "name": "cooldown_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "max_triggers_per_hour": {
          "name": "max_triggers_per_hour",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "evaluation_mode": {
          "name": "evaluation_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'real_time'"
        },
        "evaluation_interval_seconds": {
          "name": "evaluation_interval_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "activation_conditions": {
          "name": "activation_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "success_metrics": {
          "name": "success_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_history": {
          "name": "trigger_history",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "performance": {
          "name": "performance",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_triggered": {
          "name": "last_triggered",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "parent_rule_id": {
          "name": "parent_rule_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations_escalation": {
      "name": "conversations_escalation",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "conversations_escalation_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "slack_message_ts": {
          "name": "slack_message_ts",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "slack_channel": {
          "name": "slack_channel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "conversatio_created_176a78_idx": {
          "name": "conversatio_created_176a78_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_escalation_conversation_id_6a4dba67": {
          "name": "conversations_escalation_conversation_id_6a4dba67",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.faqs": {
      "name": "faqs",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "faqs_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "reply": {
          "name": "reply",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "suggested": {
          "name": "suggested",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "suggested_replacement_for_id": {
          "name": "suggested_replacement_for_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "message_id": {
          "name": "message_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "slack_channel": {
          "name": "slack_channel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slack_message_ts": {
          "name": "slack_message_ts",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "faqs_mailbox_created_at_idx": {
          "name": "faqs_mailbox_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "faqs_mailbox_id_idx": {
          "name": "faqs_mailbox_id_idx",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "faqs_embedding_index": {
          "name": "faqs_embedding_index",
          "columns": [
            {
              "expression": "embedding",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hnsw",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "faqs_message_id_key": {
          "name": "faqs_message_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "message_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations_file": {
      "name": "conversations_file",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "conversations_file_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mimetype": {
          "name": "mimetype",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "note_id": {
          "name": "note_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "preview_url": {
          "name": "preview_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_inline": {
          "name": "is_inline",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "conversatio_created_9fddde_idx": {
          "name": "conversatio_created_9fddde_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_file_message_id_idx": {
          "name": "conversations_file_message_id_idx",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_file_note_id_idx": {
          "name": "conversations_file_note_id_idx",
          "columns": [
            {
              "expression": "note_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "conversations_file_slug_key": {
          "name": "conversations_file_slug_key",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mailboxes_gmailsupportemail": {
      "name": "mailboxes_gmailsupportemail",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "mailboxes_gmailsupportemail_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "email": {
          "name": "email",
          "type": "varchar(254)",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "history_id": {
          "name": "history_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "bytea",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "bytea",
          "primaryKey": false,
          "notNull": false
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "mailboxes_gmailsupportemail_created_at_321a00f1": {
          "name": "mailboxes_gmailsupportemail_created_at_321a00f1",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mailboxes_supportemail_email_99536dd8_like": {
          "name": "mailboxes_supportemail_email_99536dd8_like",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "mailboxes_supportemail_email_key": {
          "name": "mailboxes_supportemail_email_key",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.guide_session_events": {
      "name": "guide_session_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "guide_session_events_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "guide_session_id": {
          "name": "guide_session_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "guide_session_event_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "guide_session_events_timestamp_idx": {
          "name": "guide_session_events_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guide_session_events_guide_session_id_idx": {
          "name": "guide_session_events_guide_session_id_idx",
          "columns": [
            {
              "expression": "guide_session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guide_session_events_type_idx": {
          "name": "guide_session_events_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guide_session_events_mailbox_id_idx": {
          "name": "guide_session_events_mailbox_id_idx",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.guide_session_replays": {
      "name": "guide_session_replays",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "guide_session_replays_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "guide_session_id": {
          "name": "guide_session_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "guide_session_replays_guide_session_id_idx": {
          "name": "guide_session_replays_guide_session_id_idx",
          "columns": [
            {
              "expression": "guide_session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guide_session_replays_timestamp_idx": {
          "name": "guide_session_replays_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guide_session_replays_mailbox_id_idx": {
          "name": "guide_session_replays_mailbox_id_idx",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.guide_sessions": {
      "name": "guide_sessions",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "guide_sessions_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "platform_customer_id": {
          "name": "platform_customer_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "guide_session_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'started'"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "instructions": {
          "name": "instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "steps": {
          "name": "steps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "guide_sessions_created_at_idx": {
          "name": "guide_sessions_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guide_sessions_platform_customer_id_idx": {
          "name": "guide_sessions_platform_customer_id_idx",
          "columns": [
            {
              "expression": "platform_customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guide_sessions_conversation_id_idx": {
          "name": "guide_sessions_conversation_id_idx",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guide_sessions_mailbox_id_idx": {
          "name": "guide_sessions_mailbox_id_idx",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "guide_sessions_status_idx": {
          "name": "guide_sessions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "guide_sessions_uuid_unique": {
          "name": "guide_sessions_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mailboxes_mailbox": {
      "name": "mailboxes_mailbox",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "mailboxes_mailbox_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gmail_support_email_id": {
          "name": "gmail_support_email_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "slack_escalation_channel": {
          "name": "slack_escalation_channel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slack_bot_token": {
          "name": "slack_bot_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slack_bot_user_id": {
          "name": "slack_bot_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slack_team_id": {
          "name": "slack_team_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_installation_id": {
          "name": "github_installation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_repo_owner": {
          "name": "github_repo_owner",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_repo_name": {
          "name": "github_repo_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_updated_at": {
          "name": "prompt_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "widget_hmac_secret": {
          "name": "widget_hmac_secret",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "widget_display_mode": {
          "name": "widget_display_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'always'"
        },
        "widget_display_min_value": {
          "name": "widget_display_min_value",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "auto_respond_email_to_chat": {
          "name": "auto_respond_email_to_chat",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "widget_host": {
          "name": "widget_host",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vip_threshold": {
          "name": "vip_threshold",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "vip_channel_id": {
          "name": "vip_channel_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vip_expected_response_hours": {
          "name": "vip_expected_response_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_whitelabel": {
          "name": "is_whitelabel",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "onboarding_metadata": {
          "name": "onboarding_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"completed\":false}'::jsonb"
        },
        "auto_close_enabled": {
          "name": "auto_close_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "auto_close_days_of_inactivity": {
          "name": "auto_close_days_of_inactivity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 14
        },
        "disable_auto_response_for_vips": {
          "name": "disable_auto_response_for_vips",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "response_generator_prompt": {
          "name": "response_generator_prompt",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_email_body": {
          "name": "escalation_email_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_expected_resolution_hours": {
          "name": "escalation_expected_resolution_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"confetti\":false}'::jsonb"
        }
      },
      "indexes": {
        "mailboxes_mailbox_created_at_5d4ea7d0": {
          "name": "mailboxes_mailbox_created_at_5d4ea7d0",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mailboxes_mailbox_clerk_organization_id": {
          "name": "mailboxes_mailbox_clerk_organization_id",
          "columns": [
            {
              "expression": "clerk_organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "mailboxes_mailbox_slug_key": {
          "name": "mailboxes_mailbox_slug_key",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        },
        "mailboxes_mailbox_support_email_id_key": {
          "name": "mailboxes_mailbox_support_email_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "gmail_support_email_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mailboxes_metadataapi": {
      "name": "mailboxes_metadataapi",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "mailboxes_metadataapi_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hmac_secret": {
          "name": "hmac_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "mailboxes_metadataapi_created_at_1ee2d2c2": {
          "name": "mailboxes_metadataapi_created_at_1ee2d2c2",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "mailboxes_metadataapi_mailbox_id_key": {
          "name": "mailboxes_metadataapi_mailbox_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "mailbox_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mailboxes_subscription": {
      "name": "mailboxes_subscription",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "mailboxes_subscription_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "current_period_end": {
          "name": "current_period_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "clerk_organization_id": {
          "name": "clerk_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "canceled_at": {
          "name": "canceled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "mailboxes_subscription_created_at_2852d657": {
          "name": "mailboxes_subscription_created_at_2852d657",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "mailboxes_subscription_clerk_organization_id": {
          "name": "mailboxes_subscription_clerk_organization_id",
          "nullsNotDistinct": false,
          "columns": [
            "clerk_organization_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mailboxes_platformcustomer": {
      "name": "mailboxes_platformcustomer",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "mailboxes_platformcustomer_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "value": {
          "name": "value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "links": {
          "name": "links",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "mailboxes_platformcustomer_created_at_73183c2a": {
          "name": "mailboxes_platformcustomer_created_at_73183c2a",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mailboxes_platformcustomer_mailbox_id_58ea76bf": {
          "name": "mailboxes_platformcustomer_mailbox_id_58ea76bf",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mailboxes_platformcustomer_email_ilike": {
          "name": "mailboxes_platformcustomer_email_ilike",
          "columns": [
            {
              "expression": "\"email\" gin_trgm_ops",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": true,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "mailboxes_platformcustomer_email_key": {
          "name": "mailboxes_platformcustomer_email_key",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations_note": {
      "name": "conversations_note",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "conversations_note_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "clerk_user_id": {
          "name": "clerk_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "slack_message_ts": {
          "name": "slack_message_ts",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slack_channel": {
          "name": "slack_channel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "conversatio_created_5ad461_idx": {
          "name": "conversatio_created_5ad461_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_note_conversation_id_a486ed4c": {
          "name": "conversations_note_conversation_id_a486ed4c",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "conversations_note_clerk_user_id": {
          "name": "conversations_note_clerk_user_id",
          "columns": [
            {
              "expression": "clerk_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message_notifications": {
      "name": "message_notifications",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "message_notifications_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "message_id": {
          "name": "message_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "platform_customer_id": {
          "name": "platform_customer_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "notification_text": {
          "name": "notification_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "message_notifications_message_id_idx": {
          "name": "message_notifications_message_id_idx",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "message_notifications_conversation_id_idx": {
          "name": "message_notifications_conversation_id_idx",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "message_notifications_platform_customer_id_idx": {
          "name": "message_notifications_platform_customer_id_idx",
          "columns": [
            {
              "expression": "platform_customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "message_notifications_status_idx": {
          "name": "message_notifications_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.website_docs_crawls": {
      "name": "website_docs_crawls",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "website_docs_crawls_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "website_id": {
          "name": "website_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "website_crawls_created_at_idx": {
          "name": "website_crawls_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "website_crawls_website_id_idx": {
          "name": "website_crawls_website_id_idx",
          "columns": [
            {
              "expression": "website_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "website_crawls_status_idx": {
          "name": "website_crawls_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.website_docs_pages": {
      "name": "website_docs_pages",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "website_docs_pages_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "website_id": {
          "name": "website_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "website_crawl_id": {
          "name": "website_crawl_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "raw_html": {
          "name": "raw_html",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "markdown": {
          "name": "markdown",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "page_title": {
          "name": "page_title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "website_pages_created_at_idx": {
          "name": "website_pages_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "website_pages_website_id_idx": {
          "name": "website_pages_website_id_idx",
          "columns": [
            {
              "expression": "website_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "website_pages_website_crawl_id_idx": {
          "name": "website_pages_website_crawl_id_idx",
          "columns": [
            {
              "expression": "website_crawl_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "website_pages_url_idx": {
          "name": "website_pages_url_idx",
          "columns": [
            {
              "expression": "url",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "website_pages_embedding_index": {
          "name": "website_pages_embedding_index",
          "columns": [
            {
              "expression": "embedding",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hnsw",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.website_docs": {
      "name": "website_docs",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "website_docs_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "websites_created_at_idx": {
          "name": "websites_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "websites_mailbox_id_idx": {
          "name": "websites_mailbox_id_idx",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "websites_url_idx": {
          "name": "websites_url_idx",
          "columns": [
            {
              "expression": "url",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.widget_settings": {
      "name": "widget_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "primary_color": {
          "name": "primary_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#3B82F6'"
        },
        "background_color": {
          "name": "background_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#FFFFFF'"
        },
        "text_color": {
          "name": "text_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#1F2937'"
        },
        "border_radius": {
          "name": "border_radius",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 8
        },
        "font_family": {
          "name": "font_family",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Inter'"
        },
        "welcome_message": {
          "name": "welcome_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Hi! How can we help you today?'"
        },
        "placeholder_text": {
          "name": "placeholder_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Type your message...'"
        },
        "auto_open_delay_ms": {
          "name": "auto_open_delay_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "show_typing_indicator": {
          "name": "show_typing_indicator",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "enable_sound_notifications": {
          "name": "enable_sound_notifications",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "position": {
          "name": "position",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'bottom-right'"
        },
        "offset_x": {
          "name": "offset_x",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 20
        },
        "offset_y": {
          "name": "offset_y",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 20
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 400
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 600
        },
        "business_hours": {
          "name": "business_hours",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"enabled\":false,\"timezone\":\"UTC\",\"schedule\":{\"monday\":{\"enabled\":true,\"start\":\"09:00\",\"end\":\"17:00\"},\"tuesday\":{\"enabled\":true,\"start\":\"09:00\",\"end\":\"17:00\"},\"wednesday\":{\"enabled\":true,\"start\":\"09:00\",\"end\":\"17:00\"},\"thursday\":{\"enabled\":true,\"start\":\"09:00\",\"end\":\"17:00\"},\"friday\":{\"enabled\":true,\"start\":\"09:00\",\"end\":\"17:00\"},\"saturday\":{\"enabled\":false,\"start\":\"09:00\",\"end\":\"17:00\"},\"sunday\":{\"enabled\":false,\"start\":\"09:00\",\"end\":\"17:00\"}}}'::jsonb"
        },
        "offline_message": {
          "name": "offline_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'We''re currently offline. Leave us a message and we''ll get back to you soon!'"
        },
        "require_email": {
          "name": "require_email",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "require_name": {
          "name": "require_name",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "custom_fields": {
          "name": "custom_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "enable_ai": {
          "name": "enable_ai",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "ai_welcome_message": {
          "name": "ai_welcome_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'I''m an AI assistant. I can help you with common questions, or connect you with a human agent.'"
        },
        "ai_handoff_triggers": {
          "name": "ai_handoff_triggers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"lowConfidenceThreshold\":0.3,\"userRequestsHuman\":true,\"maxAIResponses\":5,\"keywords\":[\"speak to human\",\"human agent\",\"representative\"]}'::jsonb"
        },
        "show_gdpr_notice": {
          "name": "show_gdpr_notice",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "gdpr_notice_text": {
          "name": "gdpr_notice_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'We use cookies and collect data to improve your experience. By continuing, you agree to our privacy policy.'"
        },
        "privacy_policy_url": {
          "name": "privacy_policy_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "terms_of_service_url": {
          "name": "terms_of_service_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_css": {
          "name": "custom_css",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_js": {
          "name": "custom_js",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_url": {
          "name": "webhook_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "allow_file_uploads": {
          "name": "allow_file_uploads",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "max_file_size_mb": {
          "name": "max_file_size_mb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "allowed_file_types": {
          "name": "allowed_file_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[\"image/*\",\".pdf\",\".doc\",\".docx\",\".txt\"]'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "widget_settings_mailbox_id_mailboxes_mailbox_id_fk": {
          "name": "widget_settings_mailbox_id_mailboxes_mailbox_id_fk",
          "tableFrom": "widget_settings",
          "tableTo": "mailboxes_mailbox",
          "columnsFrom": [
            "mailbox_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tool_apis": {
      "name": "tool_apis",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tool_apis_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "base_url": {
          "name": "base_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schema": {
          "name": "schema",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authentication_token": {
          "name": "authentication_token",
          "type": "bytea",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tool_apis_mailbox_id_idx": {
          "name": "tool_apis_mailbox_id_idx",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tools": {
      "name": "tools",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tools_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "request_method": {
          "name": "request_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "headers": {
          "name": "headers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "parameters": {
          "name": "parameters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "authentication_method": {
          "name": "authentication_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'none'"
        },
        "authentication_token": {
          "name": "authentication_token",
          "type": "bytea",
          "primaryKey": false,
          "notNull": false
        },
        "tool_api_id": {
          "name": "tool_api_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "available_in_chat": {
          "name": "available_in_chat",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "customer_email_parameter": {
          "name": "customer_email_parameter",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tools_mailbox_id_idx": {
          "name": "tools_mailbox_id_idx",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tools_tool_api_id_idx": {
          "name": "tools_tool_api_id_idx",
          "columns": [
            {
              "expression": "tool_api_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_slug_idx": {
          "name": "unique_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.typing_indicators": {
      "name": "typing_indicators",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "typing_indicators_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sender_type": {
          "name": "sender_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_typing": {
          "name": "is_typing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_typing_indicators_conversation_id": {
          "name": "idx_typing_indicators_conversation_id",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_typing_indicators_is_typing": {
          "name": "idx_typing_indicators_is_typing",
          "columns": [
            {
              "expression": "is_typing",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_typing_indicators_updated_at": {
          "name": "idx_typing_indicators_updated_at",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "typing_indicators_conversation_user_unique": {
          "name": "typing_indicators_conversation_user_unique",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "typing_indicators_conversation_id_conversations_conversation_id_fk": {
          "name": "typing_indicators_conversation_id_conversations_conversation_id_fk",
          "tableFrom": "typing_indicators",
          "tableTo": "conversations_conversation",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.rag_profiles": {
      "name": "rag_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prompt": {
          "name": "prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "threshold": {
          "name": "threshold",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0.7
        },
        "k": {
          "name": "k",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message_read_status": {
      "name": "message_read_status",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "message_read_status_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "message_id": {
          "name": "message_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_message_read_status_message_id": {
          "name": "idx_message_read_status_message_id",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_read_status_user_id": {
          "name": "idx_message_read_status_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "message_read_status_message_user_unique": {
          "name": "message_read_status_message_user_unique",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "message_read_status_message_id_messages_id_fk": {
          "name": "message_read_status_message_id_messages_id_fk",
          "tableFrom": "message_read_status",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message_queue": {
      "name": "message_queue",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "message_queue_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "message_id": {
          "name": "message_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_message_queue_message_id": {
          "name": "idx_message_queue_message_id",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_queue_status": {
          "name": "idx_message_queue_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_queue_next_retry_at": {
          "name": "idx_message_queue_next_retry_at",
          "columns": [
            {
              "expression": "next_retry_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "message_queue_message_id_messages_id_fk": {
          "name": "message_queue_message_id_messages_id_fk",
          "tableFrom": "message_queue",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message_threads": {
      "name": "message_threads",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "message_threads_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "thread_id": {
          "name": "thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_message_id": {
          "name": "parent_message_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_message_threads_thread_id": {
          "name": "idx_message_threads_thread_id",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_threads_parent_message_id": {
          "name": "idx_message_threads_parent_message_id",
          "columns": [
            {
              "expression": "parent_message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_threads_conversation_id": {
          "name": "idx_message_threads_conversation_id",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_threads_last_activity_at": {
          "name": "idx_message_threads_last_activity_at",
          "columns": [
            {
              "expression": "last_activity_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "message_threads_parent_message_id_messages_id_fk": {
          "name": "message_threads_parent_message_id_messages_id_fk",
          "tableFrom": "message_threads",
          "tableTo": "messages",
          "columnsFrom": [
            "parent_message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_threads_conversation_id_conversations_conversation_id_fk": {
          "name": "message_threads_conversation_id_conversations_conversation_id_fk",
          "tableFrom": "message_threads",
          "tableTo": "conversations_conversation",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message_delivery_status": {
      "name": "message_delivery_status",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "message_delivery_status_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "message_id": {
          "name": "message_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_message_delivery_status_message_id": {
          "name": "idx_message_delivery_status_message_id",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_message_delivery_status_status": {
          "name": "idx_message_delivery_status_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "message_delivery_status_message_unique": {
          "name": "message_delivery_status_message_unique",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "message_delivery_status_message_id_messages_id_fk": {
          "name": "message_delivery_status_message_id_messages_id_fk",
          "tableFrom": "message_delivery_status",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.model_versions": {
      "name": "model_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "model_name": {
          "name": "model_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "base_model": {
          "name": "base_model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "fine_tuned_model_id": {
          "name": "fine_tuned_model_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "dataset_id": {
          "name": "dataset_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "tags": {
          "name": "tags",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::json"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "model_versions_dataset_id_training_datasets_id_fk": {
          "name": "model_versions_dataset_id_training_datasets_id_fk",
          "tableFrom": "model_versions",
          "tableTo": "training_datasets",
          "columnsFrom": [
            "dataset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.training_datasets": {
      "name": "training_datasets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.knowledge_categories": {
      "name": "knowledge_categories",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "knowledge_categories_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_id": {
          "name": "parent_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_knowledge_categories_mailbox_id": {
          "name": "idx_knowledge_categories_mailbox_id",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_knowledge_categories_parent_id": {
          "name": "idx_knowledge_categories_parent_id",
          "columns": [
            {
              "expression": "parent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "knowledge_categories_mailbox_id_mailboxes_mailbox_id_fk": {
          "name": "knowledge_categories_mailbox_id_mailboxes_mailbox_id_fk",
          "tableFrom": "knowledge_categories",
          "tableTo": "mailboxes_mailbox",
          "columnsFrom": [
            "mailbox_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "knowledge_categories_parent_id_knowledge_categories_id_fk": {
          "name": "knowledge_categories_parent_id_knowledge_categories_id_fk",
          "tableFrom": "knowledge_categories",
          "tableTo": "knowledge_categories",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.knowledge_document_categories": {
      "name": "knowledge_document_categories",
      "schema": "",
      "columns": {
        "document_id": {
          "name": "document_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "category_id": {
          "name": "category_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_knowledge_document_categories_document_id": {
          "name": "idx_knowledge_document_categories_document_id",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_knowledge_document_categories_category_id": {
          "name": "idx_knowledge_document_categories_category_id",
          "columns": [
            {
              "expression": "category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "knowledge_document_categories_document_id_knowledge_documents_id_fk": {
          "name": "knowledge_document_categories_document_id_knowledge_documents_id_fk",
          "tableFrom": "knowledge_document_categories",
          "tableTo": "knowledge_documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "knowledge_document_categories_category_id_knowledge_categories_id_fk": {
          "name": "knowledge_document_categories_category_id_knowledge_categories_id_fk",
          "tableFrom": "knowledge_document_categories",
          "tableTo": "knowledge_categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "knowledge_document_categories_document_id_category_id_pk": {
          "name": "knowledge_document_categories_document_id_category_id_pk",
          "columns": [
            "document_id",
            "category_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.knowledge_document_versions": {
      "name": "knowledge_document_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "knowledge_document_versions_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "document_id": {
          "name": "document_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "version_number": {
          "name": "version_number",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_knowledge_document_versions_document_id": {
          "name": "idx_knowledge_document_versions_document_id",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_knowledge_document_versions_version_number": {
          "name": "idx_knowledge_document_versions_version_number",
          "columns": [
            {
              "expression": "version_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "knowledge_document_versions_document_id_knowledge_documents_id_fk": {
          "name": "knowledge_document_versions_document_id_knowledge_documents_id_fk",
          "tableFrom": "knowledge_document_versions",
          "tableTo": "knowledge_documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.knowledge_documents": {
      "name": "knowledge_documents",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "knowledge_documents_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_knowledge_documents_mailbox_id": {
          "name": "idx_knowledge_documents_mailbox_id",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_knowledge_documents_source_type": {
          "name": "idx_knowledge_documents_source_type",
          "columns": [
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_knowledge_documents_tags": {
          "name": "idx_knowledge_documents_tags",
          "columns": [
            {
              "expression": "tags",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "knowledge_documents_mailbox_id_mailboxes_mailbox_id_fk": {
          "name": "knowledge_documents_mailbox_id_mailboxes_mailbox_id_fk",
          "tableFrom": "knowledge_documents",
          "tableTo": "mailboxes_mailbox",
          "columnsFrom": [
            "mailbox_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.knowledge_suggestions": {
      "name": "knowledge_suggestions",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "knowledge_suggestions_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_conversation_id": {
          "name": "source_conversation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "replacement_for_id": {
          "name": "replacement_for_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_knowledge_suggestions_mailbox_id": {
          "name": "idx_knowledge_suggestions_mailbox_id",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_knowledge_suggestions_status": {
          "name": "idx_knowledge_suggestions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_knowledge_suggestions_source_conversation_id": {
          "name": "idx_knowledge_suggestions_source_conversation_id",
          "columns": [
            {
              "expression": "source_conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "knowledge_suggestions_mailbox_id_mailboxes_mailbox_id_fk": {
          "name": "knowledge_suggestions_mailbox_id_mailboxes_mailbox_id_fk",
          "tableFrom": "knowledge_suggestions",
          "tableTo": "mailboxes_mailbox",
          "columnsFrom": [
            "mailbox_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "knowledge_suggestions_source_conversation_id_conversations_conversation_id_fk": {
          "name": "knowledge_suggestions_source_conversation_id_conversations_conversation_id_fk",
          "tableFrom": "knowledge_suggestions",
          "tableTo": "conversations_conversation",
          "columnsFrom": [
            "source_conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "knowledge_suggestions_replacement_for_id_knowledge_documents_id_fk": {
          "name": "knowledge_suggestions_replacement_for_id_knowledge_documents_id_fk",
          "tableFrom": "knowledge_suggestions",
          "tableTo": "knowledge_documents",
          "columnsFrom": [
            "replacement_for_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.knowledge_chunks": {
      "name": "knowledge_chunks",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "knowledge_chunks_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "document_id": {
          "name": "document_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_count": {
          "name": "token_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "chunk_index": {
          "name": "chunk_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_knowledge_chunks_document_id": {
          "name": "idx_knowledge_chunks_document_id",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_knowledge_chunks_mailbox_id": {
          "name": "idx_knowledge_chunks_mailbox_id",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "knowledge_chunks_document_id_knowledge_documents_id_fk": {
          "name": "knowledge_chunks_document_id_knowledge_documents_id_fk",
          "tableFrom": "knowledge_chunks",
          "tableTo": "knowledge_documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "knowledge_chunks_mailbox_id_mailboxes_mailbox_id_fk": {
          "name": "knowledge_chunks_mailbox_id_mailboxes_mailbox_id_fk",
          "tableFrom": "knowledge_chunks",
          "tableTo": "mailboxes_mailbox",
          "columnsFrom": [
            "mailbox_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quick_replies": {
      "name": "quick_replies",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "quick_replies_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_global": {
          "name": "is_global",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_template": {
          "name": "is_template",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_quick_replies_user_id": {
          "name": "idx_quick_replies_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quick_replies_mailbox_id": {
          "name": "idx_quick_replies_mailbox_id",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quick_replies_category": {
          "name": "idx_quick_replies_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quick_replies_is_global": {
          "name": "idx_quick_replies_is_global",
          "columns": [
            {
              "expression": "is_global",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quick_replies_is_template": {
          "name": "idx_quick_replies_is_template",
          "columns": [
            {
              "expression": "is_template",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quick_replies_usage_count": {
          "name": "idx_quick_replies_usage_count",
          "columns": [
            {
              "expression": "usage_count",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "quick_replies_mailbox_id_mailboxes_mailbox_id_fk": {
          "name": "quick_replies_mailbox_id_mailboxes_mailbox_id_fk",
          "tableFrom": "quick_replies",
          "tableTo": "mailboxes_mailbox",
          "columnsFrom": [
            "mailbox_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ticket_comments": {
      "name": "ticket_comments",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "ticket_comments_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_internal": {
          "name": "is_internal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "attachments": {
          "name": "attachments",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_ticket_comments_ticket_id": {
          "name": "idx_ticket_comments_ticket_id",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ticket_comments_user_id": {
          "name": "idx_ticket_comments_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ticket_comments_ticket_id_tickets_id_fk": {
          "name": "ticket_comments_ticket_id_tickets_id_fk",
          "tableFrom": "ticket_comments",
          "tableTo": "tickets",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ticket_fields": {
      "name": "ticket_fields",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "ticket_fields_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_value": {
          "name": "field_value",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_ticket_fields_ticket_id": {
          "name": "idx_ticket_fields_ticket_id",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ticket_fields_ticket_id_tickets_id_fk": {
          "name": "ticket_fields_ticket_id_tickets_id_fk",
          "tableFrom": "ticket_fields",
          "tableTo": "tickets",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_ticket_field": {
          "name": "unique_ticket_field",
          "nullsNotDistinct": false,
          "columns": [
            "ticket_id",
            "field_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ticket_history": {
      "name": "ticket_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "ticket_history_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_value": {
          "name": "old_value",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ticket_history_ticket_id": {
          "name": "idx_ticket_history_ticket_id",
          "columns": [
            {
              "expression": "ticket_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ticket_history_user_id": {
          "name": "idx_ticket_history_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ticket_history_action": {
          "name": "idx_ticket_history_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ticket_history_ticket_id_tickets_id_fk": {
          "name": "ticket_history_ticket_id_tickets_id_fk",
          "tableFrom": "ticket_history",
          "tableTo": "tickets",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ticket_types": {
      "name": "ticket_types",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "ticket_types_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_priority": {
          "name": "default_priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "default_status": {
          "name": "default_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'open'"
        },
        "fields": {
          "name": "fields",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "auto_assign": {
          "name": "auto_assign",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sla_hours": {
          "name": "sla_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_ticket_types_mailbox_id": {
          "name": "idx_ticket_types_mailbox_id",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ticket_types_mailbox_id_mailboxes_mailbox_id_fk": {
          "name": "ticket_types_mailbox_id_mailboxes_mailbox_id_fk",
          "tableFrom": "ticket_types",
          "tableTo": "mailboxes_mailbox",
          "columnsFrom": [
            "mailbox_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tickets": {
      "name": "tickets",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tickets_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "ticket_number": {
          "name": "ticket_number",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tickets_ticket_number_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mailbox_id": {
          "name": "mailbox_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ticket_type_id": {
          "name": "ticket_type_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "assignee_id": {
          "name": "assignee_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reporter_id": {
          "name": "reporter_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_id": {
          "name": "customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tickets_conversation_id": {
          "name": "idx_tickets_conversation_id",
          "columns": [
            {
              "expression": "conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_mailbox_id": {
          "name": "idx_tickets_mailbox_id",
          "columns": [
            {
              "expression": "mailbox_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_ticket_type_id": {
          "name": "idx_tickets_ticket_type_id",
          "columns": [
            {
              "expression": "ticket_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_assignee_id": {
          "name": "idx_tickets_assignee_id",
          "columns": [
            {
              "expression": "assignee_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_customer_id": {
          "name": "idx_tickets_customer_id",
          "columns": [
            {
              "expression": "customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_status": {
          "name": "idx_tickets_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_priority": {
          "name": "idx_tickets_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tickets_due_date": {
          "name": "idx_tickets_due_date",
          "columns": [
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tickets_conversation_id_conversations_conversation_id_fk": {
          "name": "tickets_conversation_id_conversations_conversation_id_fk",
          "tableFrom": "tickets",
          "tableTo": "conversations_conversation",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "tickets_mailbox_id_mailboxes_mailbox_id_fk": {
          "name": "tickets_mailbox_id_mailboxes_mailbox_id_fk",
          "tableFrom": "tickets",
          "tableTo": "mailboxes_mailbox",
          "columnsFrom": [
            "mailbox_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tickets_ticket_type_id_ticket_types_id_fk": {
          "name": "tickets_ticket_type_id_ticket_types_id_fk",
          "tableFrom": "tickets",
          "tableTo": "ticket_types",
          "columnsFrom": [
            "ticket_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "tickets_customer_id_mailboxes_platformcustomer_id_fk": {
          "name": "tickets_customer_id_mailboxes_platformcustomer_id_fk",
          "tableFrom": "tickets",
          "tableTo": "mailboxes_platformcustomer",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_ticket_mailbox_number": {
          "name": "unique_ticket_mailbox_number",
          "nullsNotDistinct": false,
          "columns": [
            "mailbox_id",
            "ticket_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_presence": {
      "name": "user_presence",
      "schema": "",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_presence_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "cache": "1",
            "cycle": false
          }
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_online": {
          "name": "is_online",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "last_active": {
          "name": "last_active",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_heartbeat": {
          "name": "last_heartbeat",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "status_message": {
          "name": "status_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_user_presence_user_id": {
          "name": "idx_user_presence_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_presence_last_heartbeat": {
          "name": "idx_user_presence_last_heartbeat",
          "columns": [
            {
              "expression": "last_heartbeat",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_presence_last_active": {
          "name": "idx_user_presence_last_active",
          "columns": [
            {
              "expression": "last_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_presence_userId_unique": {
          "name": "user_presence_userId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vector_documents": {
      "name": "vector_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.guide_session_event_type": {
      "name": "guide_session_event_type",
      "schema": "public",
      "values": [
        "session_started",
        "step_added",
        "step_completed",
        "step_updated",
        "action_performed",
        "completed",
        "abandoned",
        "paused",
        "resumed"
      ]
    },
    "public.guide_session_status": {
      "name": "guide_session_status",
      "schema": "public",
      "values": [
        "started",
        "planning",
        "active",
        "completed",
        "abandoned",
        "paused"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}