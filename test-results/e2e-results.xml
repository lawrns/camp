<testsuites id="" name="" tests="1" failures="0" skipped="0" errors="0" time="24.535936">
<testsuite name="tests/widget-dashboard-final.spec.ts" timestamp="2025-07-30T23:15:43.059Z" hostname="chromium" tests="1" failures="0" skipped="0" time="23.987" errors="0">
<testcase name="Final Widget-Dashboard Integration â€º should complete widget to dashboard message flow" classname="tests/widget-dashboard-final.spec.ts" time="23.987">
<system-out>
<![CDATA[ðŸš€ Starting final widget-dashboard integration test...
ðŸ“Š Setting up authenticated dashboard...
âœ… Dashboard authenticated successfully
âœ… Dashboard inbox loaded
ðŸ”§ Setting up widget...
âœ… Widget demo page loaded
ðŸ’¬ Opening widget and sending message...
âœ… Widget button clicked
âœ… Widget panel opened
ðŸ“ Message typed: "Final integration test - 1753917354562"
ðŸ“¤ Send button clicked
ðŸ“¡ Verifying message via APIs...
Widget messages API: 200
âœ… Widget API working - found 20 messages
Widget API has test message: âœ…
Dashboard messages API: 200
âœ… Dashboard API working - found 20 messages
Dashboard API has test message: âœ…
ðŸ‘€ Checking dashboard UI for message...
Message in dashboard UI: âŒ
Dashboard content preview: (self.__next_f=self.__next_f||[]).push([0])self.__next_f.push([1,"5:\"$Sreact.fragment\"\n"])self.__next_f.push([1,"1e:I[\"[project]/components/system/ExtensionIsolationProvider.tsx [app-client] (ecmascript)\",[\"/_next/static/chunks/node_modules_%40supabase_node-fetch_browser_b1ac0bb2.js\",\"/_next/static/chunks/_ace03bd4._.js\",\"/_next/static/chunks/node_modules_next_99a0e110._.js\",\"/_next/static/chunks/node_modules_%40tanstack_query-core_build_modern_3ea24ffc._.js\",\"/_next/static/chunks/...
Found 71 conversation elements in dashboard
Found 10 message elements in dashboard
ðŸ§ª Testing direct API message sending...
API send status: 201
âœ… API message sent successfully
Message ID: 414d71c5-96ab-4c3e-8e38-fbabc04f81d0
Conversation ID: 48eedfba-2568-4231-bb38-2ce20420900d
ðŸ” Final verification...
API message in dashboard UI: âŒ
ðŸ“‹ Final Integration Test Summary:
âœ… Dashboard authentication: Working
âœ… Widget loading: Working
âœ… Widget UI interaction: Working
âœ… Widget API: Working
âœ… Dashboard API: Working
âœ… Widget API has message: Yes
âœ… Dashboard API has message: Yes
âŒ Message in dashboard UI: No
âœ… Direct API send: Working
âŒ API message in dashboard UI: No
ðŸ” DIAGNOSIS: API sync working, UI real-time updates not working
   - Messages are being stored correctly in database
   - Both widget and dashboard APIs can access messages
   - Issue is likely in dashboard UI real-time updates
   - Check Supabase Realtime channel subscriptions in dashboard
ðŸŽ‰ Final widget-dashboard integration test completed!
]]>
</system-out>
</testcase>
</testsuite>
</testsuites>