<testsuites id="" name="" tests="28" failures="1" skipped="0" errors="0" time="153.37103699999997">
<testsuite name="critical-realtime-fix-test.spec.ts" timestamp="2025-08-03T14:58:19.648Z" hostname="chromium" tests="4" failures="0" skipped="0" time="120.271" errors="0">
<testcase name="Critical Realtime Fix Verification › should verify realtime subscription timeout fix" classname="critical-realtime-fix-test.spec.ts" time="29.864">
<system-out>
<![CDATA[🔧 Testing realtime subscription timeout fix...
📱 Agent logging into dashboard...
⏳ Waiting for realtime subscriptions to establish...
✅ No 5-second timeout errors found - fix appears to be working
✅ No realtime errors detected
🎉 Realtime subscription timeout fix verification completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify agents API is working" classname="critical-realtime-fix-test.spec.ts" time="15.411">
<system-out>
<![CDATA[👥 Testing agents API functionality...
Found 1 assignment buttons, testing agent loading...
✅ No "Failed to load agents" errors found
🎉 Agents API test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify complete bidirectional communication" classname="critical-realtime-fix-test.spec.ts" time="49.803">
<system-out>
<![CDATA[🔄 Testing complete bidirectional communication...
💬 Visitor sending initial message...
🔍 Waiting for message to appear in dashboard...
Found 6 conversations in dashboard
⚠️ Visitor message not found in dashboard - checking for realtime issues
🎉 Bidirectional communication test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify subscription error handling and fallback" classname="critical-realtime-fix-test.spec.ts" time="25.193">
<system-out>
<![CDATA[🛡️ Testing subscription error handling and fallback...
ℹ️ No error handling logs found - system may be working normally
🎉 Error handling test completed!
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="critical-realtime-fix-test.spec.ts" timestamp="2025-08-03T14:58:19.648Z" hostname="firefox" tests="4" failures="0" skipped="0" time="119.99" errors="0">
<testcase name="Critical Realtime Fix Verification › should verify realtime subscription timeout fix" classname="critical-realtime-fix-test.spec.ts" time="29.287">
<system-out>
<![CDATA[🔧 Testing realtime subscription timeout fix...
📱 Agent logging into dashboard...
⏳ Waiting for realtime subscriptions to establish...
✅ No 5-second timeout errors found - fix appears to be working
✅ No realtime errors detected
🎉 Realtime subscription timeout fix verification completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify agents API is working" classname="critical-realtime-fix-test.spec.ts" time="14.742">
<system-out>
<![CDATA[👥 Testing agents API functionality...
Found 1 assignment buttons, testing agent loading...
✅ No "Failed to load agents" errors found
🎉 Agents API test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify complete bidirectional communication" classname="critical-realtime-fix-test.spec.ts" time="53.405">
<system-out>
<![CDATA[🔄 Testing complete bidirectional communication...
💬 Visitor sending initial message...
🔍 Waiting for message to appear in dashboard...
Found 6 conversations in dashboard
⚠️ Visitor message not found in dashboard - checking for realtime issues
🎉 Bidirectional communication test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify subscription error handling and fallback" classname="critical-realtime-fix-test.spec.ts" time="22.556">
<system-out>
<![CDATA[🛡️ Testing subscription error handling and fallback...
📋 Found error handling logs:
  - 🔄 JWT enrichment got 401, retrying after session refresh...
🎉 Error handling test completed!
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="critical-realtime-fix-test.spec.ts" timestamp="2025-08-03T14:58:19.648Z" hostname="webkit" tests="4" failures="0" skipped="0" time="123.482" errors="0">
<testcase name="Critical Realtime Fix Verification › should verify realtime subscription timeout fix" classname="critical-realtime-fix-test.spec.ts" time="27.644">
<system-out>
<![CDATA[🔧 Testing realtime subscription timeout fix...
📱 Agent logging into dashboard...
⏳ Waiting for realtime subscriptions to establish...
✅ No 5-second timeout errors found - fix appears to be working
✅ No realtime errors detected
🎉 Realtime subscription timeout fix verification completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify agents API is working" classname="critical-realtime-fix-test.spec.ts" time="9.197">
<system-out>
<![CDATA[👥 Testing agents API functionality...
Found 1 assignment buttons, testing agent loading...
✅ No "Failed to load agents" errors found
🎉 Agents API test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify complete bidirectional communication" classname="critical-realtime-fix-test.spec.ts" time="67.306">
<system-out>
<![CDATA[🔄 Testing complete bidirectional communication...
💬 Visitor sending initial message...
🔍 Waiting for message to appear in dashboard...
Found 6 conversations in dashboard
⚠️ Visitor message not found in dashboard - checking for realtime issues
🎉 Bidirectional communication test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify subscription error handling and fallback" classname="critical-realtime-fix-test.spec.ts" time="19.335">
<system-out>
<![CDATA[🛡️ Testing subscription error handling and fallback...
📋 Found error handling logs:
  - 🔄 JWT enrichment got 401, retrying after session refresh...
🎉 Error handling test completed!
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="critical-realtime-fix-test.spec.ts" timestamp="2025-08-03T14:58:19.648Z" hostname="Mobile Chrome" tests="4" failures="0" skipped="0" time="99.391" errors="0">
<testcase name="Critical Realtime Fix Verification › should verify realtime subscription timeout fix" classname="critical-realtime-fix-test.spec.ts" time="23.265">
<system-out>
<![CDATA[🔧 Testing realtime subscription timeout fix...
📱 Agent logging into dashboard...
⏳ Waiting for realtime subscriptions to establish...
✅ No 5-second timeout errors found - fix appears to be working
✅ No realtime errors detected
🎉 Realtime subscription timeout fix verification completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify agents API is working" classname="critical-realtime-fix-test.spec.ts" time="8.118">
<system-out>
<![CDATA[👥 Testing agents API functionality...
Found 1 assignment buttons, testing agent loading...
✅ No "Failed to load agents" errors found
🎉 Agents API test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify complete bidirectional communication" classname="critical-realtime-fix-test.spec.ts" time="47.323">
<system-out>
<![CDATA[🔄 Testing complete bidirectional communication...
💬 Visitor sending initial message...
🔍 Waiting for message to appear in dashboard...
Found 5 conversations in dashboard
⚠️ Visitor message not found in dashboard - checking for realtime issues
🎉 Bidirectional communication test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify subscription error handling and fallback" classname="critical-realtime-fix-test.spec.ts" time="20.685">
<system-out>
<![CDATA[🛡️ Testing subscription error handling and fallback...
ℹ️ No error handling logs found - system may be working normally
🎉 Error handling test completed!
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="critical-realtime-fix-test.spec.ts" timestamp="2025-08-03T14:58:19.648Z" hostname="Mobile Safari" tests="4" failures="1" skipped="0" time="125.623" errors="0">
<testcase name="Critical Realtime Fix Verification › should verify realtime subscription timeout fix" classname="critical-realtime-fix-test.spec.ts" time="26.828">
<system-out>
<![CDATA[🔧 Testing realtime subscription timeout fix...
📱 Agent logging into dashboard...
⏳ Waiting for realtime subscriptions to establish...
✅ No 5-second timeout errors found - fix appears to be working
✅ No realtime errors detected
🎉 Realtime subscription timeout fix verification completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify agents API is working" classname="critical-realtime-fix-test.spec.ts" time="12.224">
<system-out>
<![CDATA[👥 Testing agents API functionality...
Found 1 assignment buttons, testing agent loading...
✅ No "Failed to load agents" errors found
🎉 Agents API test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify complete bidirectional communication" classname="critical-realtime-fix-test.spec.ts" time="66.751">
<failure message="critical-realtime-fix-test.spec.ts:221:7 should verify complete bidirectional communication" type="FAILURE">
<![CDATA[  [Mobile Safari] › critical-realtime-fix-test.spec.ts:221:7 › Critical Realtime Fix Verification › should verify complete bidirectional communication 

    TimeoutError: locator.click: Timeout 30000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="conversation"]').nth(2)
        - locator resolved to <div tabindex="0" role="button" data-testid="conversation" aria-label="Conversation with Anonymous User" class="conversation-item mobile-conversation-item selected  flex cursor-pointer flex-col touch-target">…</div>
      - attempting click action
        2 × waiting for element to be visible, enabled and stable
          - element is visible, enabled and stable
          - scrolling into view if needed
          - done scrolling
          - <div class="conversation-list-virtualized">…</div> intercepts pointer events
        - retrying click action
        - waiting 20ms
        2 × waiting for element to be visible, enabled and stable
          - element is visible, enabled and stable
          - scrolling into view if needed
          - done scrolling
          - <div class="conversation-list-virtualized">…</div> intercepts pointer events
        - retrying click action
          - waiting 100ms
        24 × waiting for element to be visible, enabled and stable
           - element is visible, enabled and stable
           - scrolling into view if needed
           - done scrolling
           - <div class="conversation-list-virtualized">…</div> intercepts pointer events
         - retrying click action
           - waiting 500ms
        2 × waiting for element to be visible, enabled and stable
          - element is visible, enabled and stable
          - scrolling into view if needed
          - done scrolling
          - performing click action
          - <div class="conversation-list-virtualized">…</div> intercepts pointer events
        - retrying click action
          - waiting 500ms
          - waiting for element to be visible, enabled and stable
          - element is visible, enabled and stable
          - scrolling into view if needed
          - done scrolling
          - <div class="conversation-list-virtualized">…</div> intercepts pointer events
        - retrying click action
          - waiting 500ms
          - waiting for element to be visible, enabled and stable
          - element is visible, enabled and stable
          - scrolling into view if needed
          - done scrolling
          - <div class="conversation-list-virtualized">…</div> intercepts pointer events
        - retrying click action
          - waiting 500ms
        26 × waiting for element to be visible, enabled and stable
           - element is visible, enabled and stable
           - scrolling into view if needed
           - done scrolling
           - <div class="conversation-list-virtualized">…</div> intercepts pointer events
         - retrying click action
           - waiting 500ms


      247 |       // Check each conversation for our message
      248 |       for (let i = 0; i < Math.min(conversationCount, 5); i++) {
    > 249 |         await conversations.nth(i).click();
          |                                    ^
      250 |         await agentPage.waitForTimeout(3000);
      251 |         
      252 |         const messageInConv = agentPage.locator(`text="${visitorMessage}"`);
        at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/critical-realtime-fix-test.spec.ts:249:36

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/critical-realtime-fix-test-2b0d2-bidirectional-communication-Mobile-Safari/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: screenshot (image/png) ──────────────────────────────────────────────────────────
    ../../test-results/critical-realtime-fix-test-2b0d2-bidirectional-communication-Mobile-Safari/test-failed-2.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../../test-results/critical-realtime-fix-test-2b0d2-bidirectional-communication-Mobile-Safari/error-context.md
]]>
</failure>
<system-out>
<![CDATA[🔄 Testing complete bidirectional communication...
💬 Visitor sending initial message...
🔍 Waiting for message to appear in dashboard...
Found 5 conversations in dashboard

[[ATTACHMENT|critical-realtime-fix-test-2b0d2-bidirectional-communication-Mobile-Safari/test-failed-1.png]]

[[ATTACHMENT|critical-realtime-fix-test-2b0d2-bidirectional-communication-Mobile-Safari/test-failed-2.png]]

[[ATTACHMENT|critical-realtime-fix-test-2b0d2-bidirectional-communication-Mobile-Safari/error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify subscription error handling and fallback" classname="critical-realtime-fix-test.spec.ts" time="19.82">
<system-out>
<![CDATA[🛡️ Testing subscription error handling and fallback...
📋 Found error handling logs:
  - 🔄 JWT enrichment got 401, retrying after session refresh...
🎉 Error handling test completed!
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="critical-realtime-fix-test.spec.ts" timestamp="2025-08-03T14:58:19.648Z" hostname="Microsoft Edge" tests="4" failures="0" skipped="0" time="123.227" errors="0">
<testcase name="Critical Realtime Fix Verification › should verify realtime subscription timeout fix" classname="critical-realtime-fix-test.spec.ts" time="24.386">
<system-out>
<![CDATA[🔧 Testing realtime subscription timeout fix...
📱 Agent logging into dashboard...
⏳ Waiting for realtime subscriptions to establish...
✅ No 5-second timeout errors found - fix appears to be working
✅ No realtime errors detected
🎉 Realtime subscription timeout fix verification completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify agents API is working" classname="critical-realtime-fix-test.spec.ts" time="8.739">
<system-out>
<![CDATA[👥 Testing agents API functionality...
Found 1 assignment buttons, testing agent loading...
✅ No "Failed to load agents" errors found
🎉 Agents API test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify complete bidirectional communication" classname="critical-realtime-fix-test.spec.ts" time="67.174">
<system-out>
<![CDATA[🔄 Testing complete bidirectional communication...
💬 Visitor sending initial message...
🔍 Waiting for message to appear in dashboard...
Found 6 conversations in dashboard
✅ Visitor message found in conversation 5!
💬 Agent responding...
✅ Successfully clicked send button with selector: button[aria-label*="Send"]
🔍 Checking if agent response appears in widget...
⚠️ Agent response not found in widget
Found 3 messages in widget:
  Widget message 0: "Hi there! 👋 Welcome to Campfire. This is the UltimateWidget with all advanced features! Try uploading files, reacting to messages, and more!08:59😊"
  Widget message 1: "CRITICAL_FIX_TEST_175423319320408:59✓✓😊"
  Widget message 2: "CRITICAL_FIX_TEST_175423321267509:00✓😊"
🎉 Bidirectional communication test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify subscription error handling and fallback" classname="critical-realtime-fix-test.spec.ts" time="22.928">
<system-out>
<![CDATA[🛡️ Testing subscription error handling and fallback...
ℹ️ No error handling logs found - system may be working normally
🎉 Error handling test completed!
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="critical-realtime-fix-test.spec.ts" timestamp="2025-08-03T14:58:19.648Z" hostname="Google Chrome" tests="4" failures="0" skipped="0" time="107.677" errors="0">
<testcase name="Critical Realtime Fix Verification › should verify realtime subscription timeout fix" classname="critical-realtime-fix-test.spec.ts" time="27.006">
<system-out>
<![CDATA[🔧 Testing realtime subscription timeout fix...
📱 Agent logging into dashboard...
⏳ Waiting for realtime subscriptions to establish...
✅ No 5-second timeout errors found - fix appears to be working
✅ No realtime errors detected
🎉 Realtime subscription timeout fix verification completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify agents API is working" classname="critical-realtime-fix-test.spec.ts" time="13.296">
<system-out>
<![CDATA[👥 Testing agents API functionality...
Found 1 assignment buttons, testing agent loading...
✅ No "Failed to load agents" errors found
🎉 Agents API test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify complete bidirectional communication" classname="critical-realtime-fix-test.spec.ts" time="45.909">
<system-out>
<![CDATA[🔄 Testing complete bidirectional communication...
💬 Visitor sending initial message...
🔍 Waiting for message to appear in dashboard...
Found 6 conversations in dashboard
⚠️ Visitor message not found in dashboard - checking for realtime issues
🎉 Bidirectional communication test completed!
]]>
</system-out>
</testcase>
<testcase name="Critical Realtime Fix Verification › should verify subscription error handling and fallback" classname="critical-realtime-fix-test.spec.ts" time="21.466">
<system-out>
<![CDATA[🛡️ Testing subscription error handling and fallback...
ℹ️ No error handling logs found - system may be working normally
🎉 Error handling test completed!
]]>
</system-out>
</testcase>
</testsuite>
</testsuites>