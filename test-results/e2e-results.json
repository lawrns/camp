{
  "config": {
    "configFile": "/Users/lukatenbosch/Downloads/campfire-v2/playwright.config.ts",
    "rootDir": "/Users/lukatenbosch/Downloads/campfire-v2/e2e",
    "forbidOnly": false,
    "fullyParallel": true,
    "globalSetup": null,
    "globalTeardown": null,
    "globalTimeout": 0,
    "grep": {},
    "grepInvert": null,
    "maxFailures": 0,
    "metadata": {
      "actualWorkers": 1
    },
    "preserveOutput": "always",
    "reporter": [
      [
        "html",
        null
      ],
      [
        "json",
        {
          "outputFile": "test-results/e2e-results.json"
        }
      ],
      [
        "junit",
        {
          "outputFile": "test-results/e2e-results.xml"
        }
      ]
    ],
    "reportSlowTests": {
      "max": 5,
      "threshold": 300000
    },
    "quiet": false,
    "projects": [
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 1
        },
        "id": "chromium",
        "name": "chromium",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 1
        },
        "id": "firefox",
        "name": "firefox",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 1
        },
        "id": "webkit",
        "name": "webkit",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 1
        },
        "id": "Mobile Chrome",
        "name": "Mobile Chrome",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 1
        },
        "id": "Mobile Safari",
        "name": "Mobile Safari",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 1
        },
        "id": "Microsoft Edge",
        "name": "Microsoft Edge",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 1
        },
        "id": "Google Chrome",
        "name": "Google Chrome",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      }
    ],
    "shard": null,
    "updateSnapshots": "missing",
    "updateSourceMethod": "patch",
    "version": "1.54.1",
    "workers": 7,
    "webServer": null
  },
  "suites": [
    {
      "title": "tests/widget-dashboard-sync.spec.ts",
      "file": "tests/widget-dashboard-sync.spec.ts",
      "column": 0,
      "line": 0,
      "specs": [],
      "suites": [
        {
          "title": "Widget-Dashboard Message Synchronization",
          "file": "tests/widget-dashboard-sync.spec.ts",
          "line": 16,
          "column": 6,
          "specs": [
            {
              "title": "should sync messages from widget to dashboard inbox",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 0,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 21764,
                      "errors": [],
                      "stdout": [
                        {
                          "text": "üîÑ Testing widget-dashboard message synchronization...\n"
                        },
                        {
                          "text": "üìä Setting up dashboard...\n"
                        },
                        {
                          "text": "‚úÖ Dashboard login successful\n"
                        },
                        {
                          "text": "‚úÖ Dashboard inbox loaded\n"
                        },
                        {
                          "text": "üîß Setting up widget...\n"
                        },
                        {
                          "text": "‚úÖ Homepage loaded\n"
                        },
                        {
                          "text": "üí¨ Sending message from widget...\n"
                        },
                        {
                          "text": "‚úÖ Widget opened\n"
                        },
                        {
                          "text": "‚úÖ Message sent from widget: \"Widget to dashboard sync test - 1754085257838\"\n"
                        },
                        {
                          "text": "üëÄ Checking if message appears in dashboard...\n"
                        },
                        {
                          "text": "‚ùå Message did not appear in dashboard\n"
                        },
                        {
                          "text": "Dashboard content preview: (self.__next_f=self.__next_f||[]).push([0])self.__next_f.push([1,\"5:\\\"$Sreact.fragment\\\"\\n\"])self.__next_f.push([1,\"25:I[\\\"[project]/components/system/ConsoleManager.tsx [app-client] (ecmascript)\\\",[\\\"/_next/static/chunks/_405fdd81._.js\\\",\\\"/_next/static/chunks/_3e98c08d._.js\\\",\\\"/_next/static/chunks/node_modules_next_b09d993e._.js\\\",\\\"/_next/static/chunks/node_modules_motion-dom_dist_es_2453d03e._.js\\\",\\\"/_next/static/chunks/node_modules_framer-motion_dist_es_ebc484db._.js\\\",\\\"/_next/static/chu...\n"
                        },
                        {
                          "text": "Found 31 conversation elements in dashboard\n"
                        },
                        {
                          "text": "Found 6 message elements in dashboard\n"
                        },
                        {
                          "text": "üì° Testing API-level message synchronization...\n"
                        },
                        {
                          "text": "API send status: 200\n"
                        },
                        {
                          "text": "‚úÖ API message sent successfully\n"
                        },
                        {
                          "text": "‚ùå API message did not appear in dashboard\n"
                        },
                        {
                          "text": "üìã Testing dashboard message retrieval...\n"
                        },
                        {
                          "text": "Dashboard messages API status: 200\n"
                        },
                        {
                          "text": "Dashboard API response: {\n  \"messages\": [\n    {\n      \"id\": \"4d7f7d52-7dfd-4a18-a572-20e2b9806185\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API sync test - 1754085263400\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-08-01T21:54:23.601839+00:00\",\n      \"updatedAt\": \"2025-08-01T21:54:23.601839+00:00\",\n      \"metadata\": {},\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-08-01T21:54:23.601839+00:00\"\n    },\n    {\n      \"id\": \"4526539f-be86-470a-9d82-cc063431a47a\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"Test message from API fix\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-08-01T21:53:34.271207+00:00\",\n      \"updatedAt\": \"2025-08-01T21:53:34.271207+00:00\",\n      \"metadata\": {},\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-08-01T21:53:34.271207+00:00\"\n    },\n    {\n      \"id\": \"472ec930-ec45-4e94-abb8-faa447e5e6ab\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"I ain't sayin she a gold digga\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-31T19:49:35.208934+00:00\",\n      \"updatedAt\": \"2025-07-31T19:49:35.208934+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-31T19:49:34.984Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-31T19:49:35.208934+00:00\"\n    },\n    {\n      \"id\": \"4a86d9a2-6eae-4628-bc6e-547ce34c6530\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"asdfasdf\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-31T19:49:18.812661+00:00\",\n      \"updatedAt\": \"2025-07-31T19:49:18.812661+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-31T19:49:18.593Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-31T19:49:18.812661+00:00\"\n    },\n    {\n      \"id\": \"ca1147d0-2b77-4e0c-8a8b-e2332a53deba\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API direct test - 1753918294453\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T23:31:34.773651+00:00\",\n      \"updatedAt\": \"2025-07-30T23:31:34.773651+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T23:31:34.651Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T23:31:34.773651+00:00\"\n    },\n    {\n      \"id\": \"e631837d-6f39-4baa-86dc-d2a5c58bc5ee\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"Final integration test - 1753918285202\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"visitor-1753918285476@example.com\",\n      \"senderName\": \"Visitor\",\n      \"senderEmail\": \"visitor-1753918285476@example.com\",\n      \"createdAt\": \"2025-07-30T23:31:25.734829+00:00\",\n      \"updatedAt\": \"2025-07-30T23:31:25.734829+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T23:31:25.639Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T23:31:25.734829+00:00\"\n    },\n    {\n      \"id\": \"9f2b7c4a-96a1-4b88-9185-c84dbaf407b1\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API direct test - 1753917830476\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T23:23:50.79318+00:00\",\n      \"updatedAt\": \"2025-07-30T23:23:50.79318+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T23:23:50.670Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T23:23:50.79318+00:00\"\n    },\n    {\n      \"id\": \"4acadd24-3fa3-49a4-b992-3bbb05a2fa86\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"Final integration test - 1753917821660\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"visitor-1753917821841@example.com\",\n      \"senderName\": \"Visitor\",\n      \"senderEmail\": \"visitor-1753917821841@example.com\",\n      \"createdAt\": \"2025-07-30T23:23:42.108268+00:00\",\n      \"updatedAt\": \"2025-07-30T23:23:42.108268+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T23:23:42.002Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T23:23:42.108268+00:00\"\n    },\n    {\n      \"id\": \"414d71c5-96ab-4c3e-8e38-fbabc04f81d0\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API direct test - 1753917363324\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T23:16:03.813378+00:00\",\n      \"updatedAt\": \"2025-07-30T23:16:03.813378+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T23:16:03.637Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T23:16:03.813378+00:00\"\n    },\n    {\n      \"id\": \"28481672-de01-4cc6-b7f7-e492e56b4601\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"Final integration test - 1753917354562\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"visitor-1753917354740@example.com\",\n      \"senderName\": \"Visitor\",\n      \"senderEmail\": \"visitor-1753917354740@example.com\",\n      \"createdAt\": \"2025-07-30T23:15:55.081158+00:00\",\n      \"updatedAt\": \"2025-07-30T23:15:55.081158+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T23:15:54.917Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T23:15:55.081158+00:00\"\n    },\n    {\n      \"id\": \"bc30be58-ae88-4832-8de5-1fbdc8fce4fd\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"Widget debug test - 1753917307537\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"visitor-1753917307831@example.com\",\n      \"senderName\": \"Visitor\",\n      \"senderEmail\": \"visitor-1753917307831@example.com\",\n      \"createdAt\": \"2025-07-30T23:15:08.135363+00:00\",\n      \"updatedAt\": \"2025-07-30T23:15:08.135363+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T23:15:07.995Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T23:15:08.135363+00:00\"\n    },\n    {\n      \"id\": \"0a6aceab-88f0-4015-90bc-b7512c906d58\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API direct test - 1753916717757\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T23:05:18.127716+00:00\",\n      \"updatedAt\": \"2025-07-30T23:05:18.127716+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T23:05:17.971Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T23:05:18.127716+00:00\"\n    },\n    {\n      \"id\": \"2968c83c-7410-476c-b538-9891c7f751a0\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API direct test - 1753915024483\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T22:37:04.812068+00:00\",\n      \"updatedAt\": \"2025-07-30T22:37:04.812068+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T22:37:04.689Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T22:37:04.812068+00:00\"\n    },\n    {\n      \"id\": \"459f61f6-8976-48e2-830a-ad7cc2656b59\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API test message - 1753913825090\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T22:17:05.386137+00:00\",\n      \"updatedAt\": \"2025-07-30T22:17:05.386137+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T22:17:05.254Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T22:17:05.386137+00:00\"\n    },\n    {\n      \"id\": \"8ef657ce-bef7-4771-b6f8-86627207137e\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"Alignment test message - 1753913701479\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T22:15:01.746649+00:00\",\n      \"updatedAt\": \"2025-07-30T22:15:01.746649+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T22:15:01.642Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T22:15:01.746649+00:00\"\n    },\n    {\n      \"id\": \"8b3eeefc-593e-4ca6-babd-c6b6952b3242\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API test message - 1753913334398\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T22:08:54.730252+00:00\",\n      \"updatedAt\": \"2025-07-30T22:08:54.730252+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T22:08:54.600Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T22:08:54.730252+00:00\"\n    },\n    {\n      \"id\": \"67d82caf-fb44-4794-9380-bddb4ced6360\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API test message - 1753913192495\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T22:06:32.79141+00:00\",\n      \"updatedAt\": \"2025-07-30T22:06:32.79141+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T22:06:32.679Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T22:06:32.79141+00:00\"\n    },\n    {\n      \"id\": \"588d3f07-34d1-489b-9c2a-51051530abf0\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API test message - 1753913141791\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T22:05:42.121728+00:00\",\n      \"updatedAt\": \"2025-07-30T22:05:42.121728+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T22:05:41.981Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T22:05:42.121728+00:00\"\n    },\n    {\n      \"id\": \"04e697da-62d6-46ca-9b6b-27f1c5432726\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API test message - 1753913095237\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T22:04:55.679342+00:00\",\n      \"updatedAt\": \"2025-07-30T22:04:55.679342+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T22:04:55.546Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T22:04:55.679342+00:00\"\n    },\n    {\n      \"id\": \"99b11357-5b31-4a9c-b349-1fc8a2dc007c\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API test message - 1753913018335\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T22:03:38.645919+00:00\",\n      \"updatedAt\": \"2025-07-30T22:03:38.645919+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T22:03:38.514Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T22:03:38.645919+00:00\"\n    },\n    {\n      \"id\": \"433696df-740d-426c-9d4f-23202b6a6fdb\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API test message - 1753912900338\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T22:01:40.644731+00:00\",\n      \"updatedAt\": \"2025-07-30T22:01:40.644731+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T22:01:40.510Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T22:01:40.644731+00:00\"\n    },\n    {\n      \"id\": \"511afc50-b691-4c11-adc5-46ac204803b2\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API test message - 1753912201593\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T21:50:01.896379+00:00\",\n      \"updatedAt\": \"2025-07-30T21:50:01.896379+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T21:50:01.809Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T21:50:01.896379+00:00\"\n    },\n    {\n      \"id\": \"1f14f11e-9467-4a6e-ad41-13b1245b7be6\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API test message - 1753912061778\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T21:47:44.068038+00:00\",\n      \"updatedAt\": \"2025-07-30T21:47:44.068038+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T21:47:43.977Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T21:47:44.068038+00:00\"\n    },\n    {\n      \"id\": \"654081f0-e66d-4316-ab34-e256f9cfbf7d\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"API test message - 1753911983585\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"\",\n      \"senderName\": null,\n      \"senderEmail\": null,\n      \"createdAt\": \"2025-07-30T21:46:23.975975+00:00\",\n      \"updatedAt\": \"2025-07-30T21:46:23.975975+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-30T21:46:23.861Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-30T21:46:23.975975+00:00\"\n    },\n    {\n      \"id\": \"8e371e92-0f83-4c1a-b592-a6ef726b16b9\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"Comprehensive test message to verify TypeError fix\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"test-fix@example.com\",\n      \"senderName\": \"Fix Test\",\n      \"senderEmail\": \"test-fix@example.com\",\n      \"createdAt\": \"2025-07-29T21:23:04.183677+00:00\",\n      \"updatedAt\": \"2025-07-29T21:23:04.183677+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-29T21:23:03.936Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-29T21:23:04.183677+00:00\"\n    },\n    {\n      \"id\": \"1480be8a-95a6-4baf-9db7-64f694b4ce0b\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"Comprehensive test message to verify TypeError fix\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"test-fix@example.com\",\n      \"senderName\": \"Fix Test\",\n      \"senderEmail\": \"test-fix@example.com\",\n      \"createdAt\": \"2025-07-29T21:23:03.494432+00:00\",\n      \"updatedAt\": \"2025-07-29T21:23:03.494432+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-29T21:23:03.229Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-29T21:23:03.494432+00:00\"\n    },\n    {\n      \"id\": \"b5fe178f-acda-46e3-bdb9-46d20fe10021\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"Test\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"test@example.com\",\n      \"senderName\": \"Test\",\n      \"senderEmail\": \"test@example.com\",\n      \"createdAt\": \"2025-07-29T21:22:12.838987+00:00\",\n      \"updatedAt\": \"2025-07-29T21:22:12.838987+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-29T21:22:12.570Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-29T21:22:12.838987+00:00\"\n    },\n    {\n      \"id\": \"ee2cdd05-b00c-409e-b878-c9908cdbffab\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"Test consistency\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"test@example.com\",\n      \"senderName\": \"Test\",\n      \"senderEmail\": \"test@example.com\",\n      \"createdAt\": \"2025-07-29T21:21:49.42362+00:00\",\n      \"updatedAt\": \"2025-07-29T21:21:49.42362+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-29T21:21:49.164Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-29T21:21:49.42362+00:00\"\n    },\n    {\n      \"id\": \"ffc35217-dddd-445f-95ce-52b9b28df089\",\n      \"conversationId\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"content\": \"Test message from API test script\",\n      \"senderType\": \"visitor\",\n      \"senderId\": \"test@example.com\",\n      \"senderName\": \"Test User\",\n      \"senderEmail\": \"test@example.com\",\n      \"createdAt\": \"2025-07-29T21:20:01.729788+00:00\",\n      \"updatedAt\": \"2025-07-29T21:20:01.729788+00:00\",\n      \"metadata\": {\n        \"source\": \"widget\",\n        \"timestamp\": \"2025-07-29T21:20:01.470Z\"\n      },\n      \"attachments\": [],\n      \"status\": \"sent\",\n      \"inReplyToId\": null,\n      \"isDeleted\": false,\n      \"conversation_id\": \"48eedfba-2568-4231-bb38-2ce20420900d\",\n      \"sender_type\": \"visitor\",\n      \"created_at\": \"2025-07-29T21:20:01.729788+00:00\"\n    }\n  ],\n  \"pagination\": {\n    \"limit\": 50,\n    \"offset\": 0,\n    \"total\": 29,\n    \"hasMore\": false\n  }\n}\n"
                        },
                        {
                          "text": "‚úÖ Dashboard API working - found 29 messages\n"
                        },
                        {
                          "text": "Dashboard API contains widget message: ‚ùå\n"
                        },
                        {
                          "text": "Dashboard API contains API message: ‚úÖ\n"
                        },
                        {
                          "text": "üìª Testing real-time channel verification...\n"
                        },
                        {
                          "text": "Expected real-time channel: org:b5e80170-004c-4e82-a88c-3e2166b169dd:conv:48eedfba-2568-4231-bb38-2ce20420900d\n"
                        },
                        {
                          "text": "Widget real-time info: { hasSupabase: \u001b[33mfalse\u001b[39m, hasRealtime: \u001b[33mfalse\u001b[39m, channels: [] }\n"
                        },
                        {
                          "text": "Dashboard real-time info: { hasSupabase: \u001b[33mfalse\u001b[39m, hasRealtime: \u001b[33mfalse\u001b[39m, channels: [] }\n"
                        },
                        {
                          "text": "üìã Widget-Dashboard Sync Test Summary:\n"
                        },
                        {
                          "text": "Widget message sent: ‚úÖ\n"
                        },
                        {
                          "text": "Widget message visible in widget: ‚úÖ\n"
                        },
                        {
                          "text": "Widget message visible in dashboard: ‚ùå\n"
                        },
                        {
                          "text": "API message sent: ‚úÖ\n"
                        },
                        {
                          "text": "Dashboard messages API working: ‚úÖ\n"
                        },
                        {
                          "text": "Expected channel: org:b5e80170-004c-4e82-a88c-3e2166b169dd:conv:48eedfba-2568-4231-bb38-2ce20420900d\n"
                        },
                        {
                          "text": "üéâ Widget-Dashboard sync test completed!\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-01T21:54:04.817Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "9481ef0044e517df7fb8-90717f74fea284725f29",
              "file": "tests/widget-dashboard-sync.spec.ts",
              "line": 17,
              "column": 7
            }
          ]
        }
      ]
    }
  ],
  "errors": [],
  "stats": {
    "startTime": "2025-08-01T21:54:04.521Z",
    "duration": 22865.101000000002,
    "expected": 1,
    "skipped": 0,
    "unexpected": 0,
    "flaky": 0
  }
}