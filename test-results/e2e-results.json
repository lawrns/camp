{
  "config": {
    "configFile": "/Users/lukatenbosch/Downloads/campfire-v2/playwright.config.ts",
    "rootDir": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e",
    "forbidOnly": false,
    "fullyParallel": true,
    "globalSetup": null,
    "globalTeardown": null,
    "globalTimeout": 0,
    "grep": {},
    "grepInvert": null,
    "maxFailures": 0,
    "metadata": {
      "actualWorkers": 7
    },
    "preserveOutput": "always",
    "reporter": [
      [
        "html",
        null
      ],
      [
        "json",
        {
          "outputFile": "test-results/e2e-results.json"
        }
      ],
      [
        "junit",
        {
          "outputFile": "test-results/e2e-results.xml"
        }
      ]
    ],
    "reportSlowTests": {
      "max": 5,
      "threshold": 300000
    },
    "quiet": false,
    "projects": [
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 7
        },
        "id": "chromium",
        "name": "chromium",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 7
        },
        "id": "firefox",
        "name": "firefox",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 7
        },
        "id": "webkit",
        "name": "webkit",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 7
        },
        "id": "Mobile Chrome",
        "name": "Mobile Chrome",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 7
        },
        "id": "Mobile Safari",
        "name": "Mobile Safari",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 7
        },
        "id": "Microsoft Edge",
        "name": "Microsoft Edge",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      },
      {
        "outputDir": "/Users/lukatenbosch/Downloads/campfire-v2/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 7
        },
        "id": "Google Chrome",
        "name": "Google Chrome",
        "testDir": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 60000
      }
    ],
    "shard": null,
    "updateSnapshots": "missing",
    "updateSourceMethod": "patch",
    "version": "1.54.1",
    "workers": 7,
    "webServer": null
  },
  "suites": [
    {
      "title": "simple-conversation-continuity.spec.ts",
      "file": "simple-conversation-continuity.spec.ts",
      "column": 0,
      "line": 0,
      "specs": [],
      "suites": [
        {
          "title": "Simple Conversation Continuity",
          "file": "simple-conversation-continuity.spec.ts",
          "line": 58,
          "column": 6,
          "specs": [
            {
              "title": "should create visitor ID and persist it across sessions",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 0,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 184,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 1: Visitor ID Persistence\n"
                        },
                        {
                          "text": "=================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:08.852Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-chromium/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-chromium/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-5ba8192d54e6704a5ff9",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 77,
              "column": 7
            },
            {
              "title": "should reuse existing conversation for returning visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 1,
                      "parallelIndex": 1,
                      "status": "failed",
                      "duration": 145,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 2: Conversation Continuity\n"
                        },
                        {
                          "text": "==================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:08.834Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-chromium/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-chromium/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-c06e7566159d16e44920",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 106,
              "column": 7
            },
            {
              "title": "should create new conversation for different visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 2,
                      "parallelIndex": 2,
                      "status": "failed",
                      "duration": 95,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 3: New Visitor Gets New Conversation\n"
                        },
                        {
                          "text": "============================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:08.863Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-chromium/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-chromium/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-6d097e8c37e568fe1e9a",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 148,
              "column": 7
            },
            {
              "title": "should verify conversation count in database",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 3,
                      "parallelIndex": 3,
                      "status": "failed",
                      "duration": 22109,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:203:31",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 31,
                          "line": 203
                        },
                        "snippet": "\u001b[0m \u001b[90m 201 |\u001b[39m     \u001b[90m// Based on our tests, we should have 2-3 conversations max\u001b[39m\n \u001b[90m 202 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 203 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 204 |\u001b[39m\n \u001b[90m 205 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m'✅ SUCCESS: Reasonable conversation count in database'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 206 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 31,
                            "line": 203
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m\n\n\u001b[0m \u001b[90m 201 |\u001b[39m     \u001b[90m// Based on our tests, we should have 2-3 conversations max\u001b[39m\n \u001b[90m 202 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 203 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 204 |\u001b[39m\n \u001b[90m 205 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m'✅ SUCCESS: Reasonable conversation count in database'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 206 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:203:31\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 4: Database Verification\n"
                        },
                        {
                          "text": "================================\n"
                        },
                        {
                          "text": "🔐 Agent logging in...\n"
                        },
                        {
                          "text": "✅ Agent logged in successfully\n"
                        },
                        {
                          "text": "Conversations in dashboard: 0\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:08.848Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-chromium/test-failed-2.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-chromium/test-failed-1.png"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-chromium/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 31,
                        "line": 203
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-c38a65de1b00c41b0b5a",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 182,
              "column": 7
            },
            {
              "title": "should verify visitor ID format and uniqueness",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 4,
                      "parallelIndex": 4,
                      "status": "failed",
                      "duration": 152,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 5: Visitor ID Format Verification\n"
                        },
                        {
                          "text": "=========================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:08.865Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-chromium/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-chromium/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-72bffff5829eb4c1c1db",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 208,
              "column": 7
            },
            {
              "title": "should create visitor ID and persist it across sessions",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "firefox",
                  "projectName": "firefox",
                  "results": [
                    {
                      "workerIndex": 5,
                      "parallelIndex": 5,
                      "status": "failed",
                      "duration": 458,
                      "error": {
                        "message": "Error: page.evaluate: The operation is insecure.\n@debugger eval code line 291 > eval:2:5\nevaluate@debugger eval code:293:16\n@debugger eval code:1:44\n",
                        "stack": "Error: page.evaluate: The operation is insecure.\n@debugger eval code line 291 > eval:2:5\nevaluate@debugger eval code:293:16\n@debugger eval code:1:44\n\n    at @debugger eval code line 291 > eval:2:5\n    at evaluate@debugger eval code:293:16\n    at @debugger eval code:1:44\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11",
                        "location": {
                          "file": "@debugger eval code line 291 > eval",
                          "column": 5,
                          "line": 2
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "@debugger eval code line 291 > eval",
                            "column": 5,
                            "line": 2
                          },
                          "message": "Error: page.evaluate: The operation is insecure.\n@debugger eval code line 291 > eval:2:5\nevaluate@debugger eval code:293:16\n@debugger eval code:1:44\n\n\u001b[2m    at @debugger eval code line 291 > eval:2:5\u001b[22m\n\u001b[2m    at evaluate@debugger eval code:293:16\u001b[22m\n\u001b[2m    at @debugger eval code:1:44\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 1: Visitor ID Persistence\n"
                        },
                        {
                          "text": "=================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:08.858Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-firefox/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-firefox/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "@debugger eval code line 291 > eval",
                        "column": 5,
                        "line": 2
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-98af9cdacae541b5df88",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 77,
              "column": 7
            },
            {
              "title": "should reuse existing conversation for returning visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "firefox",
                  "projectName": "firefox",
                  "results": [
                    {
                      "workerIndex": 6,
                      "parallelIndex": 6,
                      "status": "failed",
                      "duration": 369,
                      "error": {
                        "message": "Error: page.evaluate: The operation is insecure.\n@debugger eval code line 291 > eval:2:5\nevaluate@debugger eval code:293:16\n@debugger eval code:1:44\n",
                        "stack": "Error: page.evaluate: The operation is insecure.\n@debugger eval code line 291 > eval:2:5\nevaluate@debugger eval code:293:16\n@debugger eval code:1:44\n\n    at @debugger eval code line 291 > eval:2:5\n    at evaluate@debugger eval code:293:16\n    at @debugger eval code:1:44\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11",
                        "location": {
                          "file": "@debugger eval code line 291 > eval",
                          "column": 5,
                          "line": 2
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "@debugger eval code line 291 > eval",
                            "column": 5,
                            "line": 2
                          },
                          "message": "Error: page.evaluate: The operation is insecure.\n@debugger eval code line 291 > eval:2:5\nevaluate@debugger eval code:293:16\n@debugger eval code:1:44\n\n\u001b[2m    at @debugger eval code line 291 > eval:2:5\u001b[22m\n\u001b[2m    at evaluate@debugger eval code:293:16\u001b[22m\n\u001b[2m    at @debugger eval code:1:44\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 2: Conversation Continuity\n"
                        },
                        {
                          "text": "==================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:08.852Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-firefox/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-firefox/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "@debugger eval code line 291 > eval",
                        "column": 5,
                        "line": 2
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-746986a7b7c59ea91a19",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 106,
              "column": 7
            },
            {
              "title": "should create new conversation for different visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "firefox",
                  "projectName": "firefox",
                  "results": [
                    {
                      "workerIndex": 7,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 340,
                      "error": {
                        "message": "Error: page.evaluate: The operation is insecure.\n@debugger eval code line 291 > eval:2:5\nevaluate@debugger eval code:293:16\n@debugger eval code:1:44\n",
                        "stack": "Error: page.evaluate: The operation is insecure.\n@debugger eval code line 291 > eval:2:5\nevaluate@debugger eval code:293:16\n@debugger eval code:1:44\n\n    at @debugger eval code line 291 > eval:2:5\n    at evaluate@debugger eval code:293:16\n    at @debugger eval code:1:44\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11",
                        "location": {
                          "file": "@debugger eval code line 291 > eval",
                          "column": 5,
                          "line": 2
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "@debugger eval code line 291 > eval",
                            "column": 5,
                            "line": 2
                          },
                          "message": "Error: page.evaluate: The operation is insecure.\n@debugger eval code line 291 > eval:2:5\nevaluate@debugger eval code:293:16\n@debugger eval code:1:44\n\n\u001b[2m    at @debugger eval code line 291 > eval:2:5\u001b[22m\n\u001b[2m    at evaluate@debugger eval code:293:16\u001b[22m\n\u001b[2m    at @debugger eval code:1:44\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 3: New Visitor Gets New Conversation\n"
                        },
                        {
                          "text": "============================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:16.435Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-firefox/test-failed-2.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-firefox/test-failed-1.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "@debugger eval code line 291 > eval",
                        "column": 5,
                        "line": 2
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-0997405eba3dc0c63ea8",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 148,
              "column": 7
            },
            {
              "title": "should verify conversation count in database",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "firefox",
                  "projectName": "firefox",
                  "results": [
                    {
                      "workerIndex": 8,
                      "parallelIndex": 1,
                      "status": "failed",
                      "duration": 12699,
                      "error": {
                        "message": "Error: page.goto: NS_BINDING_ABORTED; maybe frame was detached?\nCall log:\n\u001b[2m  - navigating to \"http://localhost:3001/dashboard/inbox\", waiting until \"load\"\u001b[22m\n",
                        "stack": "Error: page.goto: NS_BINDING_ABORTED; maybe frame was detached?\nCall log:\n\u001b[2m  - navigating to \"http://localhost:3001/dashboard/inbox\", waiting until \"load\"\u001b[22m\n\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:188:21",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 21,
                          "line": 188
                        },
                        "snippet": "\u001b[0m \u001b[90m 186 |\u001b[39m     \u001b[90m// Login as agent to check dashboard\u001b[39m\n \u001b[90m 187 |\u001b[39m     \u001b[36mawait\u001b[39m loginAsAgent(agentPage)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 188 |\u001b[39m     \u001b[36mawait\u001b[39m agentPage\u001b[33m.\u001b[39mgoto(\u001b[32m`${TEST_CONFIG.baseURL}/dashboard/inbox`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 189 |\u001b[39m     \u001b[36mawait\u001b[39m agentPage\u001b[33m.\u001b[39mwaitForLoadState(\u001b[32m'networkidle'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 190 |\u001b[39m\n \u001b[90m 191 |\u001b[39m     \u001b[90m// Wait for conversations to load\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 21,
                            "line": 188
                          },
                          "message": "Error: page.goto: NS_BINDING_ABORTED; maybe frame was detached?\nCall log:\n\u001b[2m  - navigating to \"http://localhost:3001/dashboard/inbox\", waiting until \"load\"\u001b[22m\n\n\n\u001b[0m \u001b[90m 186 |\u001b[39m     \u001b[90m// Login as agent to check dashboard\u001b[39m\n \u001b[90m 187 |\u001b[39m     \u001b[36mawait\u001b[39m loginAsAgent(agentPage)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 188 |\u001b[39m     \u001b[36mawait\u001b[39m agentPage\u001b[33m.\u001b[39mgoto(\u001b[32m`${TEST_CONFIG.baseURL}/dashboard/inbox`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 189 |\u001b[39m     \u001b[36mawait\u001b[39m agentPage\u001b[33m.\u001b[39mwaitForLoadState(\u001b[32m'networkidle'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 190 |\u001b[39m\n \u001b[90m 191 |\u001b[39m     \u001b[90m// Wait for conversations to load\u001b[39m\u001b[0m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:188:21\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 4: Database Verification\n"
                        },
                        {
                          "text": "================================\n"
                        },
                        {
                          "text": "🔐 Agent logging in...\n"
                        },
                        {
                          "text": "✅ Agent logged in successfully\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:16.388Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-firefox/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-firefox/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 21,
                        "line": 188
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-e2dc470a11f3c969fb69",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 182,
              "column": 7
            },
            {
              "title": "should verify visitor ID format and uniqueness",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "firefox",
                  "projectName": "firefox",
                  "results": [
                    {
                      "workerIndex": 9,
                      "parallelIndex": 2,
                      "status": "failed",
                      "duration": 385,
                      "error": {
                        "message": "Error: page.evaluate: The operation is insecure.\n@debugger eval code line 291 > eval:2:5\nevaluate@debugger eval code:293:16\n@debugger eval code:1:44\n",
                        "stack": "Error: page.evaluate: The operation is insecure.\n@debugger eval code line 291 > eval:2:5\nevaluate@debugger eval code:293:16\n@debugger eval code:1:44\n\n    at @debugger eval code line 291 > eval:2:5\n    at evaluate@debugger eval code:293:16\n    at @debugger eval code:1:44\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13",
                        "location": {
                          "file": "@debugger eval code line 291 > eval",
                          "column": 5,
                          "line": 2
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "@debugger eval code line 291 > eval",
                            "column": 5,
                            "line": 2
                          },
                          "message": "Error: page.evaluate: The operation is insecure.\n@debugger eval code line 291 > eval:2:5\nevaluate@debugger eval code:293:16\n@debugger eval code:1:44\n\n\u001b[2m    at @debugger eval code line 291 > eval:2:5\u001b[22m\n\u001b[2m    at evaluate@debugger eval code:293:16\u001b[22m\n\u001b[2m    at @debugger eval code:1:44\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 5: Visitor ID Format Verification\n"
                        },
                        {
                          "text": "=========================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:16.430Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-firefox/test-failed-2.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-firefox/test-failed-1.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "@debugger eval code line 291 > eval",
                        "column": 5,
                        "line": 2
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-4096945782c88c5daa93",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 208,
              "column": 7
            },
            {
              "title": "should create visitor ID and persist it across sessions",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 10,
                      "parallelIndex": 4,
                      "status": "failed",
                      "duration": 175,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: The operation is insecure.",
                        "stack": "Error: page.evaluate: SecurityError: The operation is insecure.\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 14,
                          "line": 53
                        },
                        "snippet": "\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 14,
                            "line": 53
                          },
                          "message": "Error: page.evaluate: SecurityError: The operation is insecure.\n\n\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 1: Visitor ID Persistence\n"
                        },
                        {
                          "text": "=================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:16.505Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-webkit/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-webkit/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 14,
                        "line": 53
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-59c46bdd73ae2c2c5b6c",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 77,
              "column": 7
            },
            {
              "title": "should reuse existing conversation for returning visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 11,
                      "parallelIndex": 5,
                      "status": "failed",
                      "duration": 206,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: The operation is insecure.",
                        "stack": "Error: page.evaluate: SecurityError: The operation is insecure.\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 14,
                          "line": 53
                        },
                        "snippet": "\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 14,
                            "line": 53
                          },
                          "message": "Error: page.evaluate: SecurityError: The operation is insecure.\n\n\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 2: Conversation Continuity\n"
                        },
                        {
                          "text": "==================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:16.495Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-webkit/test-failed-2.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-webkit/test-failed-1.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 14,
                        "line": 53
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-6aa60b0406bb574ccf95",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 106,
              "column": 7
            },
            {
              "title": "should create new conversation for different visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 12,
                      "parallelIndex": 6,
                      "status": "failed",
                      "duration": 146,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: The operation is insecure.",
                        "stack": "Error: page.evaluate: SecurityError: The operation is insecure.\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 14,
                          "line": 53
                        },
                        "snippet": "\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 14,
                            "line": 53
                          },
                          "message": "Error: page.evaluate: SecurityError: The operation is insecure.\n\n\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 3: New Visitor Gets New Conversation\n"
                        },
                        {
                          "text": "============================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:16.503Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-webkit/test-failed-2.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-webkit/test-failed-1.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 14,
                        "line": 53
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-236f6d0279582c6e83f4",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 148,
              "column": 7
            },
            {
              "title": "should verify conversation count in database",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 13,
                      "parallelIndex": 6,
                      "status": "failed",
                      "duration": 10692,
                      "error": {
                        "message": "Error: page.goto: Navigation to \"http://localhost:3001/dashboard/inbox\" is interrupted by another navigation to \"http://localhost:3001/login\"\nCall log:\n\u001b[2m  - navigating to \"http://localhost:3001/dashboard/inbox\", waiting until \"load\"\u001b[22m\n",
                        "stack": "Error: page.goto: Navigation to \"http://localhost:3001/dashboard/inbox\" is interrupted by another navigation to \"http://localhost:3001/login\"\nCall log:\n\u001b[2m  - navigating to \"http://localhost:3001/dashboard/inbox\", waiting until \"load\"\u001b[22m\n\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:188:21",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 21,
                          "line": 188
                        },
                        "snippet": "\u001b[0m \u001b[90m 186 |\u001b[39m     \u001b[90m// Login as agent to check dashboard\u001b[39m\n \u001b[90m 187 |\u001b[39m     \u001b[36mawait\u001b[39m loginAsAgent(agentPage)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 188 |\u001b[39m     \u001b[36mawait\u001b[39m agentPage\u001b[33m.\u001b[39mgoto(\u001b[32m`${TEST_CONFIG.baseURL}/dashboard/inbox`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 189 |\u001b[39m     \u001b[36mawait\u001b[39m agentPage\u001b[33m.\u001b[39mwaitForLoadState(\u001b[32m'networkidle'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 190 |\u001b[39m\n \u001b[90m 191 |\u001b[39m     \u001b[90m// Wait for conversations to load\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 21,
                            "line": 188
                          },
                          "message": "Error: page.goto: Navigation to \"http://localhost:3001/dashboard/inbox\" is interrupted by another navigation to \"http://localhost:3001/login\"\nCall log:\n\u001b[2m  - navigating to \"http://localhost:3001/dashboard/inbox\", waiting until \"load\"\u001b[22m\n\n\n\u001b[0m \u001b[90m 186 |\u001b[39m     \u001b[90m// Login as agent to check dashboard\u001b[39m\n \u001b[90m 187 |\u001b[39m     \u001b[36mawait\u001b[39m loginAsAgent(agentPage)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 188 |\u001b[39m     \u001b[36mawait\u001b[39m agentPage\u001b[33m.\u001b[39mgoto(\u001b[32m`${TEST_CONFIG.baseURL}/dashboard/inbox`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 189 |\u001b[39m     \u001b[36mawait\u001b[39m agentPage\u001b[33m.\u001b[39mwaitForLoadState(\u001b[32m'networkidle'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 190 |\u001b[39m\n \u001b[90m 191 |\u001b[39m     \u001b[90m// Wait for conversations to load\u001b[39m\u001b[0m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:188:21\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 4: Database Verification\n"
                        },
                        {
                          "text": "================================\n"
                        },
                        {
                          "text": "🔐 Agent logging in...\n"
                        },
                        {
                          "text": "✅ Agent logged in successfully\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:19.430Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-webkit/test-failed-2.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-webkit/test-failed-1.png"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-webkit/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 21,
                        "line": 188
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-44b99024c99d96f045f0",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 182,
              "column": 7
            },
            {
              "title": "should verify visitor ID format and uniqueness",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 14,
                      "parallelIndex": 5,
                      "status": "failed",
                      "duration": 217,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: The operation is insecure.",
                        "stack": "Error: page.evaluate: SecurityError: The operation is insecure.\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 14,
                          "line": 53
                        },
                        "snippet": "\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 14,
                            "line": 53
                          },
                          "message": "Error: page.evaluate: SecurityError: The operation is insecure.\n\n\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 5: Visitor ID Format Verification\n"
                        },
                        {
                          "text": "=========================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:21.010Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-webkit/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-webkit/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 14,
                        "line": 53
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-f09766c78cb1b64aee7e",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 208,
              "column": 7
            },
            {
              "title": "should create visitor ID and persist it across sessions",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Mobile Chrome",
                  "projectName": "Mobile Chrome",
                  "results": [
                    {
                      "workerIndex": 15,
                      "parallelIndex": 4,
                      "status": "failed",
                      "duration": 143,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 1: Visitor ID Persistence\n"
                        },
                        {
                          "text": "=================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:21.481Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-Mobile-Chrome/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-Mobile-Chrome/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-a02e21a999f50d4b8d2a",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 77,
              "column": 7
            },
            {
              "title": "should reuse existing conversation for returning visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Mobile Chrome",
                  "projectName": "Mobile Chrome",
                  "results": [
                    {
                      "workerIndex": 16,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 216,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 2: Conversation Continuity\n"
                        },
                        {
                          "text": "==================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:25.408Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-Mobile-Chrome/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-Mobile-Chrome/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-0403579ea3844f018a80",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 106,
              "column": 7
            },
            {
              "title": "should create new conversation for different visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Mobile Chrome",
                  "projectName": "Mobile Chrome",
                  "results": [
                    {
                      "workerIndex": 17,
                      "parallelIndex": 5,
                      "status": "failed",
                      "duration": 687,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 3: New Visitor Gets New Conversation\n"
                        },
                        {
                          "text": "============================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:25.728Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-Mobile-Chrome/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-Mobile-Chrome/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-8ab9020de105af9485d1",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 148,
              "column": 7
            },
            {
              "title": "should verify conversation count in database",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Mobile Chrome",
                  "projectName": "Mobile Chrome",
                  "results": [
                    {
                      "workerIndex": 18,
                      "parallelIndex": 4,
                      "status": "failed",
                      "duration": 11466,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:203:31",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 31,
                          "line": 203
                        },
                        "snippet": "\u001b[0m \u001b[90m 201 |\u001b[39m     \u001b[90m// Based on our tests, we should have 2-3 conversations max\u001b[39m\n \u001b[90m 202 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 203 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 204 |\u001b[39m\n \u001b[90m 205 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m'✅ SUCCESS: Reasonable conversation count in database'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 206 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 31,
                            "line": 203
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m\n\n\u001b[0m \u001b[90m 201 |\u001b[39m     \u001b[90m// Based on our tests, we should have 2-3 conversations max\u001b[39m\n \u001b[90m 202 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 203 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 204 |\u001b[39m\n \u001b[90m 205 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m'✅ SUCCESS: Reasonable conversation count in database'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 206 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:203:31\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 4: Database Verification\n"
                        },
                        {
                          "text": "================================\n"
                        },
                        {
                          "text": "🔐 Agent logging in...\n"
                        },
                        {
                          "text": "✅ Agent logged in successfully\n"
                        },
                        {
                          "text": "Conversations in dashboard: 0\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:27.553Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-Mobile-Chrome/test-failed-2.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-Mobile-Chrome/test-failed-1.png"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-Mobile-Chrome/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 31,
                        "line": 203
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-d3bb9308b7b69a44b85a",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 182,
              "column": 7
            },
            {
              "title": "should verify visitor ID format and uniqueness",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Mobile Chrome",
                  "projectName": "Mobile Chrome",
                  "results": [
                    {
                      "workerIndex": 19,
                      "parallelIndex": 2,
                      "status": "failed",
                      "duration": 102,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 5: Visitor ID Format Verification\n"
                        },
                        {
                          "text": "=========================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:27.746Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-Mobile-Chrome/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-Mobile-Chrome/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-a9c45cf3b582e7501d88",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 208,
              "column": 7
            },
            {
              "title": "should create visitor ID and persist it across sessions",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Mobile Safari",
                  "projectName": "Mobile Safari",
                  "results": [
                    {
                      "workerIndex": 20,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 91,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: The operation is insecure.",
                        "stack": "Error: page.evaluate: SecurityError: The operation is insecure.\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 14,
                          "line": 53
                        },
                        "snippet": "\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 14,
                            "line": 53
                          },
                          "message": "Error: page.evaluate: SecurityError: The operation is insecure.\n\n\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 1: Visitor ID Persistence\n"
                        },
                        {
                          "text": "=================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:31.241Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-Mobile-Safari/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-Mobile-Safari/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 14,
                        "line": 53
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-4bb2a531cfae5748328b",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 77,
              "column": 7
            },
            {
              "title": "should reuse existing conversation for returning visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Mobile Safari",
                  "projectName": "Mobile Safari",
                  "results": [
                    {
                      "workerIndex": 21,
                      "parallelIndex": 5,
                      "status": "failed",
                      "duration": 90,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: The operation is insecure.",
                        "stack": "Error: page.evaluate: SecurityError: The operation is insecure.\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 14,
                          "line": 53
                        },
                        "snippet": "\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 14,
                            "line": 53
                          },
                          "message": "Error: page.evaluate: SecurityError: The operation is insecure.\n\n\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 2: Conversation Continuity\n"
                        },
                        {
                          "text": "==================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:31.346Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-Mobile-Safari/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-Mobile-Safari/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 14,
                        "line": 53
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-d1c33f9c3b9e7e3fc8b0",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 106,
              "column": 7
            },
            {
              "title": "should create new conversation for different visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Mobile Safari",
                  "projectName": "Mobile Safari",
                  "results": [
                    {
                      "workerIndex": 22,
                      "parallelIndex": 2,
                      "status": "failed",
                      "duration": 48,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: The operation is insecure.",
                        "stack": "Error: page.evaluate: SecurityError: The operation is insecure.\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 14,
                          "line": 53
                        },
                        "snippet": "\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 14,
                            "line": 53
                          },
                          "message": "Error: page.evaluate: SecurityError: The operation is insecure.\n\n\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 3: New Visitor Gets New Conversation\n"
                        },
                        {
                          "text": "============================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:32.391Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-Mobile-Safari/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-Mobile-Safari/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 14,
                        "line": 53
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-621376e5ac62e8697fdd",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 148,
              "column": 7
            },
            {
              "title": "should verify conversation count in database",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Mobile Safari",
                  "projectName": "Mobile Safari",
                  "results": [
                    {
                      "workerIndex": 23,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 8229,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:203:31",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 31,
                          "line": 203
                        },
                        "snippet": "\u001b[0m \u001b[90m 201 |\u001b[39m     \u001b[90m// Based on our tests, we should have 2-3 conversations max\u001b[39m\n \u001b[90m 202 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 203 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 204 |\u001b[39m\n \u001b[90m 205 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m'✅ SUCCESS: Reasonable conversation count in database'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 206 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 31,
                            "line": 203
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m\n\n\u001b[0m \u001b[90m 201 |\u001b[39m     \u001b[90m// Based on our tests, we should have 2-3 conversations max\u001b[39m\n \u001b[90m 202 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 203 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 204 |\u001b[39m\n \u001b[90m 205 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m'✅ SUCCESS: Reasonable conversation count in database'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 206 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:203:31\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 4: Database Verification\n"
                        },
                        {
                          "text": "================================\n"
                        },
                        {
                          "text": "🔐 Agent logging in...\n"
                        },
                        {
                          "text": "✅ Agent logged in successfully\n"
                        },
                        {
                          "text": "Conversations in dashboard: 0\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:34.071Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-Mobile-Safari/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-Mobile-Safari/test-failed-2.png"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-Mobile-Safari/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 31,
                        "line": 203
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-f76b42947d8460e31af6",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 182,
              "column": 7
            },
            {
              "title": "should verify visitor ID format and uniqueness",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Mobile Safari",
                  "projectName": "Mobile Safari",
                  "results": [
                    {
                      "workerIndex": 24,
                      "parallelIndex": 5,
                      "status": "failed",
                      "duration": 33,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: The operation is insecure.",
                        "stack": "Error: page.evaluate: SecurityError: The operation is insecure.\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 14,
                          "line": 53
                        },
                        "snippet": "\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 14,
                            "line": 53
                          },
                          "message": "Error: page.evaluate: SecurityError: The operation is insecure.\n\n\u001b[0m \u001b[90m 51 |\u001b[39m\n \u001b[90m 52 |\u001b[39m \u001b[36masync\u001b[39m \u001b[36mfunction\u001b[39m clearVisitorIdFromLocalStorage(page\u001b[33m:\u001b[39m \u001b[33mPage\u001b[39m) {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mevaluate((orgId) \u001b[33m=>\u001b[39m {\n \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 54 |\u001b[39m     localStorage\u001b[33m.\u001b[39mremoveItem(\u001b[32m`campfire_visitor_${orgId}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 55 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[33mTEST_CONFIG\u001b[39m\u001b[33m.\u001b[39morganizationId)\u001b[33m;\u001b[39m\n \u001b[90m 56 |\u001b[39m }\u001b[0m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 5: Visitor ID Format Verification\n"
                        },
                        {
                          "text": "=========================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:34.116Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-Mobile-Safari/test-failed-2.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-Mobile-Safari/test-failed-1.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 14,
                        "line": 53
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-700598afe7e97522afca",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 208,
              "column": 7
            },
            {
              "title": "should create visitor ID and persist it across sessions",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Microsoft Edge",
                  "projectName": "Microsoft Edge",
                  "results": [
                    {
                      "workerIndex": 25,
                      "parallelIndex": 6,
                      "status": "failed",
                      "duration": 195,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 1: Visitor ID Persistence\n"
                        },
                        {
                          "text": "=================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:34.402Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-Microsoft-Edge/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-Microsoft-Edge/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-f7160aaec535a8e43c73",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 77,
              "column": 7
            },
            {
              "title": "should reuse existing conversation for returning visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Microsoft Edge",
                  "projectName": "Microsoft Edge",
                  "results": [
                    {
                      "workerIndex": 26,
                      "parallelIndex": 1,
                      "status": "failed",
                      "duration": 332,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 2: Conversation Continuity\n"
                        },
                        {
                          "text": "==================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:34.446Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-Microsoft-Edge/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-Microsoft-Edge/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-b6cd627b056db24b14c5",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 106,
              "column": 7
            },
            {
              "title": "should create new conversation for different visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Microsoft Edge",
                  "projectName": "Microsoft Edge",
                  "results": [
                    {
                      "workerIndex": 27,
                      "parallelIndex": 2,
                      "status": "failed",
                      "duration": 179,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 3: New Visitor Gets New Conversation\n"
                        },
                        {
                          "text": "============================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:34.430Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-Microsoft-Edge/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-Microsoft-Edge/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-03042cafa447906cb56d",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 148,
              "column": 7
            },
            {
              "title": "should verify conversation count in database",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Microsoft Edge",
                  "projectName": "Microsoft Edge",
                  "results": [
                    {
                      "workerIndex": 28,
                      "parallelIndex": 5,
                      "status": "failed",
                      "duration": 10264,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:203:31",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 31,
                          "line": 203
                        },
                        "snippet": "\u001b[0m \u001b[90m 201 |\u001b[39m     \u001b[90m// Based on our tests, we should have 2-3 conversations max\u001b[39m\n \u001b[90m 202 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 203 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 204 |\u001b[39m\n \u001b[90m 205 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m'✅ SUCCESS: Reasonable conversation count in database'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 206 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 31,
                            "line": 203
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m\n\n\u001b[0m \u001b[90m 201 |\u001b[39m     \u001b[90m// Based on our tests, we should have 2-3 conversations max\u001b[39m\n \u001b[90m 202 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 203 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 204 |\u001b[39m\n \u001b[90m 205 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m'✅ SUCCESS: Reasonable conversation count in database'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 206 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:203:31\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 4: Database Verification\n"
                        },
                        {
                          "text": "================================\n"
                        },
                        {
                          "text": "🔐 Agent logging in...\n"
                        },
                        {
                          "text": "✅ Agent logged in successfully\n"
                        },
                        {
                          "text": "Conversations in dashboard: 0\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:35.237Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-Microsoft-Edge/test-failed-2.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-Microsoft-Edge/test-failed-1.png"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-Microsoft-Edge/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 31,
                        "line": 203
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-23d3d877063d80ab2874",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 182,
              "column": 7
            },
            {
              "title": "should verify visitor ID format and uniqueness",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Microsoft Edge",
                  "projectName": "Microsoft Edge",
                  "results": [
                    {
                      "workerIndex": 29,
                      "parallelIndex": 3,
                      "status": "failed",
                      "duration": 129,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 5: Visitor ID Format Verification\n"
                        },
                        {
                          "text": "=========================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:37.714Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-Microsoft-Edge/test-failed-2.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-Microsoft-Edge/test-failed-1.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-fb1360fd4ce9d4f4ec0b",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 208,
              "column": 7
            },
            {
              "title": "should create visitor ID and persist it across sessions",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Google Chrome",
                  "projectName": "Google Chrome",
                  "results": [
                    {
                      "workerIndex": 30,
                      "parallelIndex": 4,
                      "status": "failed",
                      "duration": 100,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:82:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 1: Visitor ID Persistence\n"
                        },
                        {
                          "text": "=================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:43.933Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-Google-Chrome/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-76443--persist-it-across-sessions-Google-Chrome/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-d1ac6452f6074c4a081b",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 77,
              "column": 7
            },
            {
              "title": "should reuse existing conversation for returning visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Google Chrome",
                  "projectName": "Google Chrome",
                  "results": [
                    {
                      "workerIndex": 31,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 120,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:111:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 2: Conversation Continuity\n"
                        },
                        {
                          "text": "==================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:43.952Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-Google-Chrome/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-d3776-ation-for-returning-visitor-Google-Chrome/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-f3dfc330a9f08c1e8436",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 106,
              "column": 7
            },
            {
              "title": "should create new conversation for different visitor",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Google Chrome",
                  "projectName": "Google Chrome",
                  "results": [
                    {
                      "workerIndex": 32,
                      "parallelIndex": 6,
                      "status": "failed",
                      "duration": 94,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:153:11\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 3: New Visitor Gets New Conversation\n"
                        },
                        {
                          "text": "============================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:46.861Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-Google-Chrome/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-a344c-ation-for-different-visitor-Google-Chrome/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-02eaddf68e7268948934",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 148,
              "column": 7
            },
            {
              "title": "should verify conversation count in database",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Google Chrome",
                  "projectName": "Google Chrome",
                  "results": [
                    {
                      "workerIndex": 33,
                      "parallelIndex": 1,
                      "status": "failed",
                      "duration": 8207,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:203:31",
                        "location": {
                          "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                          "column": 31,
                          "line": 203
                        },
                        "snippet": "\u001b[0m \u001b[90m 201 |\u001b[39m     \u001b[90m// Based on our tests, we should have 2-3 conversations max\u001b[39m\n \u001b[90m 202 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 203 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 204 |\u001b[39m\n \u001b[90m 205 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m'✅ SUCCESS: Reasonable conversation count in database'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 206 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                            "column": 31,
                            "line": 203
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m\n\n\u001b[0m \u001b[90m 201 |\u001b[39m     \u001b[90m// Based on our tests, we should have 2-3 conversations max\u001b[39m\n \u001b[90m 202 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 203 |\u001b[39m     expect(conversationCount)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 204 |\u001b[39m\n \u001b[90m 205 |\u001b[39m     console\u001b[33m.\u001b[39mlog(\u001b[32m'✅ SUCCESS: Reasonable conversation count in database'\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 206 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:203:31\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 4: Database Verification\n"
                        },
                        {
                          "text": "================================\n"
                        },
                        {
                          "text": "🔐 Agent logging in...\n"
                        },
                        {
                          "text": "✅ Agent logged in successfully\n"
                        },
                        {
                          "text": "Conversations in dashboard: 0\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:46.830Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-Google-Chrome/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-Google-Chrome/test-failed-2.png"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-f97c3-versation-count-in-database-Google-Chrome/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts",
                        "column": 31,
                        "line": 203
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-8ceed27e65c5e859b93b",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 182,
              "column": 7
            },
            {
              "title": "should verify visitor ID format and uniqueness",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 60000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "Google Chrome",
                  "projectName": "Google Chrome",
                  "results": [
                    {
                      "workerIndex": 34,
                      "parallelIndex": 2,
                      "status": "failed",
                      "duration": 90,
                      "error": {
                        "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)",
                        "stack": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at UtilityScript.evaluate (<anonymous>:293:16)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\n    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13",
                        "location": {
                          "file": "<anonymous>",
                          "column": 16,
                          "line": 293
                        }
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "<anonymous>",
                            "column": 16,
                            "line": 293
                          },
                          "message": "Error: page.evaluate: SecurityError: Failed to read the 'localStorage' property from 'Window': Access is denied for this document.\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at UtilityScript.evaluate (<anonymous>:293:16)\u001b[22m\n\u001b[2m    at UtilityScript.<anonymous> (<anonymous>:1:44)\u001b[22m\n\u001b[2m    at clearVisitorIdFromLocalStorage (/Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:53:14)\u001b[22m\n\u001b[2m    at /Users/lukatenbosch/Downloads/campfire-v2/tests/e2e/simple-conversation-continuity.spec.ts:216:13\u001b[22m"
                        }
                      ],
                      "stdout": [
                        {
                          "text": "\n🎯 TEST 5: Visitor ID Format Verification\n"
                        },
                        {
                          "text": "=========================================\n"
                        }
                      ],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-08-03T16:30:46.829Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-Google-Chrome/test-failed-1.png"
                        },
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/Users/lukatenbosch/Downloads/campfire-v2/test-results/simple-conversation-contin-0de60-or-ID-format-and-uniqueness-Google-Chrome/test-failed-2.png"
                        }
                      ],
                      "errorLocation": {
                        "file": "<anonymous>",
                        "column": 16,
                        "line": 293
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "7d272b86ce500dd9ab1f-75ba9a18c98d2e2c2581",
              "file": "simple-conversation-continuity.spec.ts",
              "line": 208,
              "column": 7
            }
          ]
        }
      ]
    }
  ],
  "errors": [],
  "stats": {
    "startTime": "2025-08-03T16:30:07.864Z",
    "duration": 48879.15,
    "expected": 0,
    "skipped": 0,
    "unexpected": 35,
    "flaky": 0
  }
}